<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kwon&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/5594e9f17b4feb6e10a6bc1e7107ab0b</icon>
  <subtitle>개발 블로그</subtitle>
  <link href="/feed.xml" rel="self"/>
  
  <link href="https://kyu9341.github.io/"/>
  <updated>2020-08-29T17:04:41.886Z</updated>
  <id>https://kyu9341.github.io/</id>
  
  <author>
    <name>kwon</name>
    <email>kyu9341@naver.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NPM - line-controller 패키지 배포</title>
    <link href="https://kyu9341.github.io/NPM/2020/08/29/npm_line_controller/"/>
    <id>https://kyu9341.github.io/NPM/2020/08/29/npm_line_controller/</id>
    <published>2020-08-28T15:12:28.000Z</published>
    <updated>2020-08-29T17:04:41.886Z</updated>
    
    <content type="html"><![CDATA[<h2 id="npm-패키지-제작기"><a href="#npm-패키지-제작기" class="headerlink" title="npm 패키지 제작기"></a>npm 패키지 제작기</h2><p>블로그를 좀 꾸며 보려다 보니 이미 작성된 많은 글들에 카테고리별로 공통적인 line을 추가해야 할 일이 생겼다. 하나의 카테고리에 몇 가지 안되는 글이 있는 것은 괜찮았지만 100개 가까이 되는 카테고리인 경우에는 언제 하나하나 다 넣나 막막했다. 그래서 그냥 자동으로 원하는 line에 원하는 텍스트를 넣는 간단한 프로그램을 만들어 보았다.</p><p>만들어 본 김에 npm에 배포를 해보고 싶어서 몇 가지 기능을 좀 더 추가하여 배포해 보았다.</p><ul><li>초기 작성본</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> WRITE_DIR = <span class="string">'./writeDirTest\\'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_WORD = <span class="string">'algorithm3'</span>;</span><br><span class="line"><span class="keyword">const</span> NEWLINE = <span class="string">'\r\n'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UTF_8 = <span class="string">'utf8'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_LINE_NUM = <span class="number">8</span> - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> INSERT_LINE = <span class="string">`tags:`</span>;</span><br><span class="line"><span class="keyword">const</span> INSERT_LINE2 = <span class="string">`\t- Algorithm`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFileList = <span class="function">(<span class="params">dirPath</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readdirSync(dirPath, (err, fileList) =&gt; fileList);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> filterFileList = <span class="function">(<span class="params">fileList, targetWord</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fileList.filter(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fileName.substr(<span class="number">0</span>, targetWord.length) === targetWord</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFileContents = <span class="function">(<span class="params">fileName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readFileSync(WRITE_DIR + fileName, UTF_8, (err, contents) =&gt;&#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> insert = <span class="function">(<span class="params">fileContent, targetLine</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    contentArr.splice(targetLine, <span class="number">0</span>, INSERT_LINE, INSERT_LINE2);</span><br><span class="line">    <span class="keyword">return</span> contentArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> insertLines = <span class="function">(<span class="params">targetDir, targetWord, targetLine</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fileList = readFileList(targetDir);</span><br><span class="line">    <span class="keyword">const</span> filteredList = filterFileList(fileList, targetWord);</span><br><span class="line"></span><br><span class="line">    filteredList.forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> fileContents = readFileContents(fileName);</span><br><span class="line">        <span class="keyword">const</span> inserted = insert(fileContents, targetLine);</span><br><span class="line">        <span class="keyword">const</span> result = inserted.join(NEWLINE);</span><br><span class="line"></span><br><span class="line">        fs.writeFile(targetDir + fileName, result, () =&gt; &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">insertLines(WRITE_DIR, TARGET_WORD, TARGET_LINE_NUM);</span><br></pre></td></tr></table></figure><p>위의 상태는 원하는 폴더에서 파일명이 <code>TARGET_WORD</code> 로 시작하는 파일의 <code>TARGET_LINE_NUM</code> 번째 라인에 원하는 텍스트를 추가하도록 구현했다. 이제 조금 더 확장성 있는 형태로 바꾸어보자.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> WRITE_DIR = <span class="string">'./writeDirTest\\'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_WORD = <span class="string">'algorithm3'</span>;</span><br><span class="line"><span class="keyword">const</span> NEWLINE = <span class="string">'\r\n'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UTF_8 = <span class="string">'utf8'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_LINE_NUM = <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> INSERT_LINE = <span class="string">`tags:`</span>;</span><br><span class="line"><span class="keyword">const</span> INSERT_LINE2 = <span class="string">`\t- Algorithm`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFileList = <span class="function">(<span class="params">dirPath</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readdirSync(dirPath, (err, fileList) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> filterFileList = <span class="function">(<span class="params">fileList, targetWord</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fileList.filter(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fileName.substr(<span class="number">0</span>, targetWord.length) === targetWord</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readFileContents = <span class="function">(<span class="params">fileName</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readFileSync(WRITE_DIR + fileName, UTF_8, (err, contents) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> insert = <span class="function">(<span class="params">fileContent, targetLine, lines</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    contentArr.splice(targetLine - <span class="number">1</span>, <span class="number">0</span>, ...lines);</span><br><span class="line">    <span class="keyword">return</span> contentArr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> insertLine = <span class="function">(<span class="params">targetDir, targetWord, targetLine, ...lines</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fileList = readFileList(targetDir);</span><br><span class="line">    <span class="keyword">const</span> filteredList = filterFileList(fileList, targetWord);</span><br><span class="line"></span><br><span class="line">    filteredList.forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> fileContents = readFileContents(fileName);</span><br><span class="line">        <span class="keyword">const</span> inserted = insert(fileContents, targetLine, lines);</span><br><span class="line">        <span class="keyword">const</span> result = inserted.join(NEWLINE);</span><br><span class="line"></span><br><span class="line">        fs.writeFile(targetDir + fileName, result, () =&gt; &#123; &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">insertLine(WRITE_DIR, TARGET_WORD, TARGET_LINE_NUM, INSERT_LINE, INSERT_LINE2);</span><br></pre></td></tr></table></figure><p>rest parameter 를 활용해서 원하는 만큼 인자를 받아서 받은 인자를 모두 삽입할 수 있도록 구현했다.</p><p>삽입 기능만 있으면 심심하니까 삭제, 수정, 조회 기능을 추가하고 os 별 호환이 가능하도록 개행문자를 os모듈에서 받아 오도록 하여 사용했다. 또한 디렉토리 내에서 파일명이 특정 문자열로 시작하는 파일에 적용되도록 구현했던 것을 파일명에 특정 문자열이 포함되기만 하면 되도록 수정하였다.</p><ul><li>최종 배포 코드</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">'os'</span>)</span><br><span class="line"><span class="keyword">const</span> NEWLINE = os.EOL;</span><br><span class="line"><span class="keyword">const</span> UTF_8 = <span class="string">'utf8'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>원하는 디렉토리 내부의 파일 목록을 읽어온다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>dirPath 읽어올 디렉토리 경로</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Array&#125;</span> </span>파일 목록을 배열로 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> readFileList = <span class="function">(<span class="params">dirPath</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readdirSync(dirPath, (err, fileList) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'Error :'</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>파일 목록에서 파일명에 특정 문자열이 포함된 파일들의 목록을 반환한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Array&#125;</span> </span>fileList 전체 파일 목록</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetWord 특정 문자열</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Array&#125;</span> </span>targetWord가 파일명에 포함된 파일 목록 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> filterFileList = <span class="function">(<span class="params">fileList, targetWord</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fileList.filter(<span class="function"><span class="params">fileName</span> =&gt;</span> fileName.indexOf(targetWord) &gt; <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>파일 내용을 동기적으로 읽어오는 함수</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileName 파일명</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetDir 디렉토리 경로</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>읽어온 파일 내용</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> readFileContents = <span class="function">(<span class="params">fileName, targetDir = <span class="string">''</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fs.readFileSync(targetDir + fileName, UTF_8, (err, contents) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'Error :'</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>특정 line에 lines을 삽입한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileContent 기존 파일 내용</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 삽입할 line number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Array&#125;</span> </span>lines 삽입될 line들 목록</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>삽입된 결과 문자열을 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> insert = <span class="function">(<span class="params">fileContent, targetLine, lines</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    contentArr.splice(targetLine - <span class="number">1</span>, <span class="number">0</span>, ...lines);</span><br><span class="line">    <span class="keyword">return</span> contentArr.join(NEWLINE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>특정 line에 lines을 삽입한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileContent 기존 파일 내용</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>startLine 제거할 시작 line number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>deleteCount 제거될 line 개수</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>line이 제거된 결과 문자열을 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> remove = <span class="function">(<span class="params">fileContent, startLine, deleteCount</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    contentArr.splice(startLine - <span class="number">1</span>, deleteCount);</span><br><span class="line">    <span class="keyword">return</span> contentArr.join(NEWLINE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>특정 line을 수정한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileContent 기존 파일 내용</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 수정할 line number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>text 수정할 내용</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>수정된 결과 문자열을 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> update = <span class="function">(<span class="params">fileContent, targetLine, text</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    contentArr.splice(targetLine - <span class="number">1</span>, <span class="number">1</span>, text);</span><br><span class="line">    <span class="keyword">return</span> contentArr.join(NEWLINE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>특정 lines을 조회한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileContent 기존 파일 내용</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 조회할 line number</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>selectCount 조회할 line 개수</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>조회된 결과 문자열을 리턴</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> select = <span class="function">(<span class="params">fileContent, targetLine, selectCount</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> contentArr = fileContent.split(NEWLINE);</span><br><span class="line">    <span class="keyword">return</span> contentArr.filter(<span class="function">(<span class="params">_, idx</span>) =&gt;</span></span><br><span class="line">        idx &gt;= targetLine - <span class="number">1</span> &amp;&amp; idx &lt; targetLine - <span class="number">1</span> + selectCount).join(NEWLINE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>targetDir에 있는 파일들 중 파일명에 targetWord가 포함되는 파일에 원하는 line들을 삽입한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetDir 원하는 디렉토리의 경로 ex) 'files/'</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetWord 파일명에 포함된 원하는 단어</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 삽입하고 싶은 라인 번호</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;...String&#125;</span> </span>lines 삽입하고 싶은 문자열 (여러 문자열 가능)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Promise&#125;</span> </span>수행된 프로미스. resolve에 삽입된 결과 파일의 내용이 담긴다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> insertLine = <span class="function">(<span class="params">targetDir, targetWord, targetLine, ...lines</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> fileList = readFileList(targetDir);</span><br><span class="line">        <span class="keyword">const</span> filteredList = filterFileList(fileList, targetWord);</span><br><span class="line"></span><br><span class="line">        filteredList.forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> fileContents = readFileContents(fileName, targetDir);</span><br><span class="line">            <span class="keyword">const</span> result = insert(fileContents, targetLine, lines);</span><br><span class="line">            fs.writeFile(targetDir + fileName, result, UTF_8, err =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'Error :'</span>, err);</span><br><span class="line">                resolve(result);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>targetDir에 있는 파일들 중 파일명에 targetWord가 포함되는 파일에 원하는 line을 지운다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetDir 원하는 디렉토리의 경로 ex) 'files/'</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetWord 파일명에 포함된 원하는 단어</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 삭제하고 싶은 라인 번호</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>deleteCount 삭제를 원하는 라인 수 (default = 1) optional</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Promise&#125;</span> </span>수행된 프로미스. resolve에 목표 라인이 제거된 결과 파일의 내용이 담긴다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> deleteLine = <span class="function">(<span class="params">targetDir, targetWord, targetLine, deleteCount = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> fileList = readFileList(targetDir);</span><br><span class="line">        <span class="keyword">const</span> filteredList = filterFileList(fileList, targetWord);</span><br><span class="line"></span><br><span class="line">        filteredList.forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> fileContents = readFileContents(fileName, targetDir);</span><br><span class="line">            <span class="keyword">const</span> result = remove(fileContents, targetLine, deleteCount)</span><br><span class="line"></span><br><span class="line">            fs.writeFile(targetDir + fileName, result, UTF_8, err =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'Error :'</span>, err);</span><br><span class="line">                resolve(result);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>targetDir에 있는 파일들 중 파일명에 targetWord가 포함되는 파일에 원하는 line을 수정한다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetDir 원하는 디렉토리의 경로 ex) 'files/'</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>targetWord 파일명에 포함된 원하는 단어</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 수정하고 싶은 라인 번호</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  <span class="type">&#123;String&#125;</span> </span>text 수정하고 싶은 문자열</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Promise&#125;</span> </span>수행된 프로미스. resolve에 수정된 결과 파일의 내용이 담긴다.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> updateLine = <span class="function">(<span class="params">targetDir, targetWord, targetLine, text</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> fileList = readFileList(targetDir);</span><br><span class="line">        <span class="keyword">const</span> filteredList = filterFileList(fileList, targetWord);</span><br><span class="line"></span><br><span class="line">        filteredList.forEach(<span class="function"><span class="params">fileName</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> fileContents = readFileContents(fileName, targetDir);</span><br><span class="line">            <span class="keyword">const</span> result = update(fileContents, targetLine, text)</span><br><span class="line"></span><br><span class="line">            fs.writeFile(targetDir + fileName, result, UTF_8, err =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'Error :'</span>, err);</span><br><span class="line">                resolve(result);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>fileName 파일의 원하는 line을 읽어온다.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>fileName 읽고자 하는 파일의 경로 ex) 'files/abc.txt'</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>targetLine 읽고 싶은 시작 line 번호</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Number&#125;</span> </span>selectCount 읽고자 하는 line 수 (default = 1) optional</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;String&#125;</span> </span>읽어온 결과 문자열</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> selectLine = <span class="function">(<span class="params">fileName, targetLine, selectCount = <span class="number">1</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fileContents = readFileContents(fileName);</span><br><span class="line">    <span class="keyword">const</span> result = select(fileContents, targetLine, selectCount);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123; insertLine, deleteLine, updateLine, selectLine, NEWLINE &#125;;</span><br></pre></td></tr></table></figure><p><code>jest 라이브러리</code>를 사용하여 간단한 테스트도 작성했다.</p><ul><li>테스트 코드</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  &#123; insertLine, deleteLine, updateLine, selectLine, NEWLINE &#125; = <span class="built_in">require</span>(<span class="string">'../lineController'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> WRITE_DIR = <span class="string">'files/'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_WORD = <span class="string">'3085'</span>;</span><br><span class="line"><span class="keyword">const</span> TARGET_FILE = <span class="string">'files/algorithm3085.md'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SELECT_LINE_TEST =</span><br><span class="line"><span class="string">`---</span></span><br><span class="line"><span class="string">layout: post</span></span><br><span class="line"><span class="string">title: "백준 3085번 사탕 게임"</span></span><br><span class="line"><span class="string">subtitle: "Baekjoon algorithm"</span></span><br><span class="line"><span class="string">date: 2020-02-24 09:51:12</span></span><br><span class="line"><span class="string">author: kwon</span></span><br><span class="line"><span class="string">categories: algorithm</span></span><br><span class="line"><span class="string">---`</span>;</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"test lineEditor"</span>, () =&gt; &#123;</span><br><span class="line">    it(<span class="string">"selectLine"</span>, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> selected = selectLine(TARGET_FILE, <span class="number">1</span>, <span class="number">8</span>);</span><br><span class="line">        expect(SELECT_LINE_TEST).toEqual(selected);</span><br><span class="line">    &#125;)</span><br><span class="line">    it(<span class="string">"insertLine"</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">await</span> insertLine(WRITE_DIR, TARGET_WORD, <span class="number">1</span>, <span class="string">'insert'</span>, <span class="string">'insert2'</span>);</span><br><span class="line">        <span class="keyword">const</span> selected = selectLine(TARGET_FILE, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        expect(<span class="string">`insert<span class="subst">$&#123;NEWLINE&#125;</span>insert2`</span>).toEqual(selected);</span><br><span class="line">    &#125;)</span><br><span class="line">    it(<span class="string">"updateLine"</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">await</span> updateLine(WRITE_DIR, TARGET_WORD, <span class="number">1</span>, <span class="string">'update'</span>);</span><br><span class="line">        <span class="keyword">const</span> selected = selectLine(TARGET_FILE, <span class="number">1</span>);</span><br><span class="line">        expect(<span class="string">'update'</span>).toEqual(selected);</span><br><span class="line">    &#125;)</span><br><span class="line">    it(<span class="string">"deleteLine"</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">await</span> deleteLine(WRITE_DIR, TARGET_WORD, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">const</span> selected = selectLine(TARGET_FILE, <span class="number">1</span>);</span><br><span class="line">        expect(<span class="string">'---'</span>).toEqual(selected);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>npm 패키지를 배포해보는 것은 처음이었는데 생각보다 어렵지 않았다. 간단하게 배포 과정을 살펴보자면,</p><p>먼저 <a href="https://www.npmjs.com/" target="_blank" rel="external nofollow noopener noreferrer">npm</a> 사이트에 회원가입을 하고 이메일 인증까지 해야한다.</p><p>터미널에서 <code>npm login</code> 을 통해 로그인을 하고 <code>npm whoami</code> 를 통해 제대로 로그인이 되었는지 확인할 수 있다.</p><p>이제 패키지명을 결정해야 하는데, 처음 생각했던 것은 <code>line-editor</code> 였지만 이미 존재했기 때문에 <code>line-controller</code> 로 결정하게 되었다. 이제 <code>npm init</code> 을 통해 <code>package.json</code> 을 생성하여 패키지명, 버전, 설명, 라이센스 등을 설정해주면 된다.</p><p>배포하기 전에 로컬에서 직접 테스트를 해볼 수도 있었는데, <code>npm install [작성한 패키지 디렉토리 경로]</code> 를 하면 로컬에서 내가 만든 패키지를 다운받아 사용해볼 수 있다.</p><p>이후 <code>npm publish</code> 명령어를 통해 npm에 배포를 할 수 있었다.</p><ul><li><a href="https://www.npmjs.com/package/line-controller" target="_blank" rel="external nofollow noopener noreferrer">NPM page</a></li><li><a href="https://github.com/kyu9341/line-controller.js" target="_blank" rel="external nofollow noopener noreferrer">github</a></li></ul><p>필요에 의해 간단히 만들어본 프로그램이었지만 조금 다듬어서 npm에 배포까지 해보았다. 별거 아닌 것이긴 하지만 처음 패키지를 배포해봤다는 것에 의의를 둬본다.</p><blockquote><p>참조<br><a href="https://www.daleseo.com/js-npm-publish/" target="_blank" rel="external nofollow noopener noreferrer">https://www.daleseo.com/js-npm-publish/</a><br><a href="https://heropy.blog/2019/01/31/node-js-npm-module-publish/" target="_blank" rel="external nofollow noopener noreferrer">https://heropy.blog/2019/01/31/node-js-npm-module-publish/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;npm-패키지-제작기&quot;&gt;&lt;a href=&quot;#npm-패키지-제작기&quot; class=&quot;headerlink&quot; title=&quot;npm 패키지 제작기&quot;&gt;&lt;/a&gt;npm 패키지 제작기&lt;/h2&gt;&lt;p&gt;블로그를 좀 꾸며 보려다 보니 이미 작성된 많은 글들에 카테고
      
    
    </summary>
    
    
      <category term="NPM" scheme="https://kyu9341.github.io/categories/NPM/"/>
    
    
      <category term="NPM" scheme="https://kyu9341.github.io/tags/NPM/"/>
    
  </entry>
  
  <entry>
    <title>깃(Git) - .gitignore 파일 다루기</title>
    <link href="https://kyu9341.github.io/Git/2020/08/23/git_gitignore/"/>
    <id>https://kyu9341.github.io/Git/2020/08/23/git_gitignore/</id>
    <published>2020-08-22T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.094Z</updated>
    
    <content type="html"><![CDATA[<h2 id="gitignore-파일"><a href="#gitignore-파일" class="headerlink" title=".gitignore 파일"></a>.gitignore 파일</h2><p><code>.gitignore</code> 파일은 이름에서 느껴지듯이 git이 관리하지 않을 파일들을 지정해두는 파일이다.<br>프로젝트를 진행하다 보면 자동으로 생성되는 로그파일이나 외부 패키지, 깃에 공유되어서는 안되는 api키와 같은 내용이 작성된  <code>.env</code> 와 같은 파일들이 있을 것이다.<br><code>.gitignore</code> 에 원격 저장소에 commit 하고 싶지 않은 내용을 작성해두면 git에서 그 내용을 읽어 해당하는 디렉토리 또는 경로 패턴에 위치한 파일들을 버전관리에서 무시하도록 해준다.<br>이 때, <code>.gitignore</code> 는 항상 <code>.git</code> 폴더가 위치한 루트 디렉토리에 존재해야 한다.</p><h2 id="gitignore-생성"><a href="#gitignore-생성" class="headerlink" title=".gitignore 생성"></a>.gitignore 생성</h2><p><code>.git</code> 폴더가 있는 위치에 생성해주면 되는데, 윈도우의 경우 그냥 메모장으로 작성하여 txt파일이 아니라 모든 파일로 설정한 후에 파일명을 <code>.gitignore</code> 로 작성해주면 된다. 아니면 git bash 를 이용하여 해당 폴더로 이동한 뒤 <code>vim .gitignore</code> 명령으로 생성하여 작성해도 무방하다. 이후 버전관리를 하지 않을 목록을 작성하면 된다.</p><p>이 때, 이미 버전관리를 수행 중인 파일들을 <code>.gitignore</code> 에 작성하게 되면 git은 원래대로 그 파일들을 추적하게 된다. 이 경우에는 이미 버전 관리가 되고 있는 파일들을 수동으로 해당 파일들을 버전 관리에서 제외시켜주어야 한다. 다음의 명령어들을 사용하여 처리한다.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line">git commit -m "fixed untracked files"</span><br></pre></td></tr></table></figure><ul><li><code>git rm -r --cached .</code>  : 현재 Repository의 cache를 모두 삭제한다.</li><li><code>git rm -r --cached &lt;filename&gt;</code>  : <filename>해당하는 파일을 원격 저장소에서 삭제한다.<ul><li><code>git rm &lt;filename&gt;</code>  : 원격 저장소와 로컬 저장소에 있는 파일을 삭제한다.</li><li><code>git rm --cached &lt;filename&gt;</code> : 원격 저장소에 있는 파일을 삭제한다. 로컬 저장소에 있는 파일은 삭제하지 않는다</li><li><code>-r</code> 옵션 : 하위 디렉토리를 포함하여 모든 내용을 삭제한다.</li></ul></filename></li><li>이후 <code>git add .</code> 을 통해  <code>.gitignore</code>에 넣은 파일 목록들을 제외하고 다른 모든 파일을 다시 track하도록 설정한다.</li><li>위 작업 이후에는 반드시 커밋을 해준다.  <code>git commit -m &quot;fixed untracked files&quot;</code></li></ul><h2 id="gitignore-문법"><a href="#gitignore-문법" class="headerlink" title=".gitignore 문법"></a>.gitignore 문법</h2><table><thead><tr><th align="center">패턴</th><th>설명</th></tr></thead><tbody><tr><td align="center"><code>*</code></td><td><code>/</code> 를 제외한 모든 <strong>문자열</strong>과 매칭 (문자열 길이 0이상)</td></tr><tr><td align="center"><code>**</code></td><td><code>/</code> 를 포함한 모든 <strong>문자열</strong>과 매칭 (문자열 길이 0이상)</td></tr><tr><td align="center"><code>?</code></td><td><code>/</code> 를 제외한 하나의 <strong>문자</strong>와 매칭 (빈 문자 x)</td></tr><tr><td align="center"><code>[abc]</code></td><td><code>[]</code> 안에 있는 모든 각각의 <strong>문자</strong>들과 매칭 (a또는 b또는 c 중에 하나)</td></tr><tr><td align="center"><code>{a, b, c}</code></td><td><code>{}</code> 안에 있는 , 로 구분된 각각의 <strong>문자열</strong>들과 매칭</td></tr><tr><td align="center"><code>[^abc]</code></td><td><code>[]</code> 안에 있는 모든 각각의 문자들을 제외한 <strong>문자</strong>들과 매칭</td></tr><tr><td align="center"><code>[a-z]</code></td><td><code>[]</code> 안에서 - 사이에 있는 첫 문자와 마지막 문자 범위에 있는 모든 <strong>문자</strong>들에 대해 매칭 (a-z, A-Z, 0-9 등..)</td></tr><tr><td align="center"><code>/</code></td><td><code>/</code> 부터 시작하는 경로 패턴은 하위 디렉토리에 반복적으로 적용되지 않는다.</td></tr><tr><td align="center"><code>!</code></td><td><code>!</code> 로 시작하는 패턴은 <code>.gitignore</code>에서 <strong>제외</strong>되며, 무시되지 않는다.</td></tr><tr><td align="center"><code>#</code></td><td><code>#</code> 으로 시작하면 <strong>주석</strong>처리</td></tr></tbody></table><p><code>.gitignore</code> 파일은 Glob 패턴에 따라 작성이 된다. Glob 패턴은 와일드 카드 문자를 사용하여 일정한 패턴을 가진 파일 이름을 지정하기 위한 패턴이다. 정규표현식과 유사한 문법들이 많다.</p><h3 id="작성-예시"><a href="#작성-예시" class="headerlink" title="작성 예시"></a>작성 예시</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 확장자가 .js 인 파일은 무시</span></span><br><span class="line">*.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># .js 파일들은 모두 무시되지만, test.js만은 무시하지 않음</span></span><br><span class="line">!test.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 현재 디렉토리에 있는 /test.js파일은 무시되지만,</span></span><br><span class="line"><span class="comment"># subDir/test.js 같이 특정 디렉토리 하위에 있는 test.js는 무시되지 않음</span></span><br><span class="line">/test.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># node_modules/ 디렉토리에 있는 모든 파일을 무시</span></span><br><span class="line">node_modules/</span><br><span class="line"></span><br><span class="line"><span class="comment"># src/ 하위의 .js파일만 무시</span></span><br><span class="line">src/*.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># src/ 하위에 존재하는 모든 디렉토리의 .txt 파일을 무시</span></span><br><span class="line">src/**/*.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 현재 디렉토리와 그 하위 디렉토리 내에 존재하는 모든 .js 파일을 무시</span></span><br><span class="line">/**/*.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 현재 디렉토리 내에 존재하는 모든 .js .ts 파일 무시</span></span><br><span class="line">/*.&#123;js, ts&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 현재 디렉토리 내에 있는 ex1.js ex2.js ex3.js 파일 무시</span></span><br><span class="line">/ex[1-3].js</span><br></pre></td></tr></table></figure><ul><li>참고로 개발 환경이나 언어를 입력하면 자동으로 해당하는  <code>.gitignore</code> 파일을 생성해주는 사이트가 있다.<ul><li><a href="https://www.toptal.com/developers/gitignore" target="_blank" rel="external nofollow noopener noreferrer">https://www.toptal.com/developers/gitignore</a></li></ul></li></ul><p>참조</p><blockquote><p><a href="https://victorydntmd.tistory.com/80" target="_blank" rel="external nofollow noopener noreferrer">https://victorydntmd.tistory.com/80</a><br><a href="https://dololak.tistory.com/306" target="_blank" rel="external nofollow noopener noreferrer">https://dololak.tistory.com/306</a><br><a href="https://velog.io/@conatuseus/.gitignore-사용하기-imk4708751" target="_blank" rel="external nofollow noopener noreferrer">https://velog.io/@conatuseus/.gitignore-사용하기-imk4708751</a><br><a href="https://velog.io/@k7120792/Glob-패턴과-정규표현식" target="_blank" rel="external nofollow noopener noreferrer">https://velog.io/@k7120792/Glob-패턴과-정규표현식</a><br><a href="https://git-scm.com/docs/gitignore](https://git-scm.com/docs/gitignore" target="_blank" rel="external nofollow noopener noreferrer">https://git-scm.com/docs/gitignore](https://git-scm.com/docs/gitignore</a><br><a href="https://mygumi.tistory.com/103" target="_blank" rel="external nofollow noopener noreferrer">https://mygumi.tistory.com/103</a><br><a href="https://gmlwjd9405.github.io/2017/10/06/make-gitignore-file.html" target="_blank" rel="external nofollow noopener noreferrer">https://gmlwjd9405.github.io/2017/10/06/make-gitignore-file.html</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;gitignore-파일&quot;&gt;&lt;a href=&quot;#gitignore-파일&quot; class=&quot;headerlink&quot; title=&quot;.gitignore 파일&quot;&gt;&lt;/a&gt;.gitignore 파일&lt;/h2&gt;&lt;p&gt;&lt;code&gt;.gitignore&lt;/code&gt; 파일은 
      
    
    </summary>
    
    
      <category term="Git" scheme="https://kyu9341.github.io/categories/Git/"/>
    
    
      <category term="Git" scheme="https://kyu9341.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>자바스크립트(JavaScript) - Spread Syntax (전개 구문)</title>
    <link href="https://kyu9341.github.io/JavaScript/2020/08/16/JavaScript_spread_syntax/"/>
    <id>https://kyu9341.github.io/JavaScript/2020/08/16/JavaScript_spread_syntax/</id>
    <published>2020-08-16T12:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.063Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Spread-Syntax-전개-구문"><a href="#Spread-Syntax-전개-구문" class="headerlink" title="Spread Syntax (전개 구문)"></a>Spread Syntax (전개 구문)</h1><ul><li>Spread  Syntax(전개 구문)는 es6에 추가된 문법으로 iterable 객체를 개별 요소로 분리시키는 문법이다.<ul><li>iterable - 배열, 문자열, set, map 등..</li></ul></li></ul><h2 id="Spread-문법의-사용방법"><a href="#Spread-문법의-사용방법" class="headerlink" title="Spread 문법의 사용방법"></a>Spread 문법의 사용방법</h2><h3 id="함수-호출"><a href="#함수-호출" class="headerlink" title="함수 호출"></a>함수 호출</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b, c, d</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c + d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> kwon = [<span class="string">'k'</span>, <span class="string">'w'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(...kwon));</span><br><span class="line"><span class="comment">// 출력 : kwon</span></span><br></pre></td></tr></table></figure><p>위와 같이 함수를 호출할 때 매개변수로 전개 연산자를 사용하여 배열을 넘겨 각각의 인자에 배열의 원소를 할당할 수 있다. 이 때, 물론 매개변수의 개수가 일치해야 한다.</p><h3 id="배열-리터럴과-문자열"><a href="#배열-리터럴과-문자열" class="headerlink" title="배열 리터럴과 문자열"></a>배열 리터럴과 문자열</h3><p>두 배열을 연결하는 경우 <code>Array.prototype.concat()</code> 을 사용하여 기존 배열에 새로운 배열의 요소를 추가하여 새로운 배열을 만들 수 있었다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">'jo'</span>, <span class="string">'park'</span>, <span class="string">'lee'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr3 = arr1.concat(arr2)</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'kim', 'jung', 'jo', 'park', 'lee' ]</span></span><br></pre></td></tr></table></figure><p>위의 코드를 전개 구문을 사용하는 경우 간편하게 작성할 수 있다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">'jo'</span>, <span class="string">'park'</span>, <span class="string">'lee'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr3 = [...arr1, ...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'kim', 'jung', 'jo', 'park', 'lee' ]</span></span><br></pre></td></tr></table></figure><p>또한 <code>push</code>, <code>splice</code> 등을 활용, 대신하여 다양한 방식으로 배열을 다룰 수 있다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">'jo'</span>, <span class="string">'park'</span>, <span class="string">'lee'</span>];</span><br><span class="line"></span><br><span class="line">arr1.push(...arr2);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'kim', 'jung', 'jo', 'park', 'lee' ]</span></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">'jo'</span>, <span class="string">'park'</span>, <span class="string">'lee'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr3 = [...arr2, <span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br><span class="line"><span class="comment">// 출력 : [ 'jo', 'park', 'lee', 'kwon', 'kim', 'jung' ]</span></span><br><span class="line"><span class="keyword">const</span> arr4 = [<span class="string">'kwon'</span>, ...arr2, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr4);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'jo', 'park', 'lee', 'kim', 'jung' ]</span></span><br></pre></td></tr></table></figure><p>문자열도 iterable 이기 때문에 전개구문을 사용 가능하다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">'abcdefg'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.split(<span class="string">''</span>)); <span class="comment">// 기존 방식</span></span><br><span class="line"><span class="comment">// 출력 : ['a', 'b', 'c', 'd', 'e', 'f', 'g']</span></span><br><span class="line"><span class="built_in">console</span>.log([...str]); <span class="comment">// 전개 구문 적용</span></span><br><span class="line"><span class="comment">// 출력 : ['a', 'b', 'c', 'd', 'e', 'f', 'g']</span></span><br></pre></td></tr></table></figure><h3 id="배열-복사"><a href="#배열-복사" class="headerlink" title="배열 복사"></a>배열 복사</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1];</span><br><span class="line"><span class="built_in">console</span>.log(arr2);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'kim', 'jung' ]</span></span><br><span class="line">arr2.push(<span class="string">'jo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">// 출력 : [ 'kwon', 'kim', 'jung' ]</span></span><br></pre></td></tr></table></figure><p>전개 구문을 통해 배열을 복사하는 경우 깊은 복사를 할 수 있다. 깊은 복사는 복사를 통해 생성된 배열을 변경하여도 원본 배열에 영향이 없어야 한다. 하지만, 배열 안에 또 배열or객체가 있는 경우에는 깊은 복사가 제대로 이루어지지 않는다. 즉, (원시 타입으로 구성된) 1차원 배열에서만 전개 구문을 통해 깊은 복사를 할 수 있다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [[<span class="string">'kwon'</span>, <span class="string">'kim'</span>], <span class="string">'jung'</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1];</span><br><span class="line">arr2[<span class="number">0</span>].pop();</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">// 출력 : [ [ 'kwon' ], 'jung' ]</span></span><br></pre></td></tr></table></figure><p>위와 같이 배열 안에 있는 배열을 변경하는 경우에는 원본 배열에도 영향을 미치는 것을 볼 수 있다.</p><h3 id="객체-리터럴"><a href="#객체-리터럴" class="headerlink" title="객체 리터럴"></a>객체 리터럴</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">key1</span>: <span class="string">'val1'</span>, <span class="attr">key2</span>: <span class="string">'val2'</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; ...obj1, <span class="attr">key3</span>: <span class="string">'val3'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj2);</span><br><span class="line"><span class="comment">// 출력 : &#123; key1: 'val1', key2: 'val2', key3: 'val3' &#125;</span></span><br></pre></td></tr></table></figure><p>객체에서도 전개 구문을 사용하여 객체를 정의할 수 있다.<br>하지만, 객체 리터럴에서와 달리 함수 호출과 배열 리터럴에서의 전개 구문은 반드시 iterable 이어야 사용이 가능하다는 것이다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">key1</span>: <span class="string">'val1'</span>, <span class="attr">key2</span>: <span class="string">'val2'</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jung'</span>, ...obj1];</span><br><span class="line"><span class="built_in">console</span>.log(arr1);</span><br><span class="line"><span class="comment">// 에러 :  obj1 is not iterable</span></span><br></pre></td></tr></table></figure><hr><h2 id="Spread-Syntax-전개-구문-활용"><a href="#Spread-Syntax-전개-구문-활용" class="headerlink" title="Spread Syntax(전개 구문) 활용"></a>Spread Syntax(전개 구문) 활용</h2><h3 id="나머지-매개변수"><a href="#나머지-매개변수" class="headerlink" title="나머지 매개변수"></a>나머지 매개변수</h3><p>rest 파라미터는 함수의 마지막 파라미터 앞에 <code>...</code> 을 붙여 모드 나머지 인수를 유사 배열이 아닌, ‘표준’ 자바스크립트 배열로 대체한다. (arguments 객체(유사배열)와 차이점)</p><p>특정 인수의 갯수를 지정할 필요없이 들어온 인수를 배열로 전달받을 수 있어 유용하다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn1 = <span class="function">(<span class="params">a, b, ...rest</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="built_in">console</span>.log(rest);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn1(<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jo'</span>, <span class="string">'jung'</span>, <span class="string">'lee'</span>);</span><br></pre></td></tr></table></figure><p>출력</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">kwon</span></span><br><span class="line"><span class="selector-tag">kim</span></span><br><span class="line"><span class="selector-attr">[ <span class="string">'jo'</span>, <span class="string">'jung'</span>, <span class="string">'lee'</span> ]</span></span><br></pre></td></tr></table></figure><p>아래는 모든 인자를 누적하여 합을 리턴해주는 함수이다. ( <code>Array.prototype.reduce()</code> 사용)</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sumAll = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">acc, cur</span>) =&gt;</span> acc + cur, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sumAll(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line"><span class="built_in">console</span>.log(sumAll(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(sumAll(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>));</span><br></pre></td></tr></table></figure><p>매개변수를 몇 개로 받더라도 모두 배열로 넘겨받아 정상적으로 처리되는 것을 볼 수 있다.<br>나머지 매개변수를 사용할 때 주의할 점은 항상 가장 마지막 파라미터로 나머지 매개변수를 사용해야 한다는 점이다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn1 = <span class="function">(<span class="params">arg1, ...rest, arg2</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 에러 : Rest parameter must be last formal parameter</span></span><br></pre></td></tr></table></figure><p>위와 같이 중간에 나머지 매개변수를 넣게 되면 에러가 발생한다.</p><h3 id="배열에서-중복-원소-제거"><a href="#배열에서-중복-원소-제거" class="headerlink" title="배열에서 중복 원소 제거"></a>배열에서 중복 원소 제거</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">const</span> newArr = [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="built_in">console</span>.log(newArr);</span><br><span class="line"><span class="comment">// 출력 : [1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure><p><code>Set</code>과 함께 사용하면 위와 같이 중복을 제거하는 것도 가능하다.</p><h3 id="구조-분해-할당"><a href="#구조-분해-할당" class="headerlink" title="구조 분해 할당"></a>구조 분해 할당</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [ first, second, ...rest ] = [<span class="string">'kwon'</span>, <span class="string">'kim'</span>, <span class="string">'jo'</span>, <span class="string">'jung'</span>, <span class="string">'lee'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(first, second); <span class="comment">// 출력 : kwon kim</span></span><br><span class="line"><span class="built_in">console</span>.log(rest); <span class="comment">// 출력 : [ 'jo', 'jung', 'lee' ]</span></span><br></pre></td></tr></table></figure><p>구조 분해 할당에서도 활용이 가능한데, 배열에서 구조 분해 할당은 index 값이 기준이 된다. 또한 나머지 매개변수와 마찬가지로 마지막 요소로 위치시키지 않으면 다음과 같은 에러가 발생한다.</p><ul><li><code>SyntaxError: Rest element must be last element</code></li></ul><blockquote><p>참조<br><a href="https://chanspark.github.io/2017/11/28/ES6-%EA%BF%80%ED%8C%81.html" target="_blank" rel="external nofollow noopener noreferrer">https://chanspark.github.io/2017/11/28/ES6-%EA%BF%80%ED%8C%81.html</a><br><a href="https://jongbeom-dev.tistory.com/117" target="_blank" rel="external nofollow noopener noreferrer">https://jongbeom-dev.tistory.com/117</a><br><a href="https://mber.tistory.com/14" target="_blank" rel="external nofollow noopener noreferrer">https://mber.tistory.com/14</a><br><a href="https://ko.javascript.info/rest-parameters-spread" target="_blank" rel="external nofollow noopener noreferrer">https://ko.javascript.info/rest-parameters-spread</a><br><a href="https://velog.io/@kwonh/ES6-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%BB%AC%EB%A0%89%EC%85%98-Array2-%EB%B0%B0%EC%97%B4-%ED%8E%BC%EC%B9%A8%EC%97%B0%EC%82%B0%EC%9E%90%EC%A0%84%EA%B0%9C%EC%97%B0%EC%82%B0%EC%9E%90-Spread-Syntax-Spread-Operator-1y6chdfg" target="_blank" rel="external nofollow noopener noreferrer">https://velog.io/@kwonh/ES6-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%BB%AC%EB%A0%89%EC%85%98-Array2-%EB%B0%B0%EC%97%B4-%ED%8E%BC%EC%B9%A8%EC%97%B0%EC%82%B0%EC%9E%90%EC%A0%84%EA%B0%9C%EC%97%B0%EC%82%B0%EC%9E%90-Spread-Syntax-Spread-Operator-1y6chdfg</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Spread-Syntax-전개-구문&quot;&gt;&lt;a href=&quot;#Spread-Syntax-전개-구문&quot; class=&quot;headerlink&quot; title=&quot;Spread Syntax (전개 구문)&quot;&gt;&lt;/a&gt;Spread Syntax (전개 구문)&lt;/h1&gt;&lt;
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>자바스크립트(JavaScript) - async / await</title>
    <link href="https://kyu9341.github.io/JavaScript/2020/08/03/JavaScript_async_await/"/>
    <id>https://kyu9341.github.io/JavaScript/2020/08/03/JavaScript_async_await/</id>
    <published>2020-08-02T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.062Z</updated>
    
    <content type="html"><![CDATA[<h2 id="async-amp-await"><a href="#async-amp-await" class="headerlink" title="async &amp; await"></a>async &amp; await</h2><p>async, await은 프로미스를 좀 더 깔끔하게 작성할 수 있게 해준다.</p><h3 id="async"><a href="#async" class="headerlink" title="async"></a>async</h3><ul><li>함수 앞에 <code>async</code> 라는 키워드를 붙여주면 자동으로 함수 내의 코드 블럭이 <code>promise</code>로 변경된다.</li><li>즉, resolve를 하지 않고 그냥 return 하더라도 <code>Promise</code> 객체를 리턴하게 된다.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchUser</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// do network request in 10 sec...</span></span><br><span class="line">        resolve(<span class="string">'kwon'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 위의 Promise를 async를 사용하여 변경하면 아래와 같다.</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchUser</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// do network request in 10 sec...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'kwon'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = fetchUser();</span><br><span class="line">user.then(<span class="built_in">console</span>.log);</span><br></pre></td></tr></table></figure><h3 id="await"><a href="#await" class="headerlink" title="await"></a>await</h3><ul><li><code>async</code> 키워드가 붙은 함수 내에서만 사용이 가능하다.</li><li>비동기 처리를 수행하는 코드 앞에 <code>await</code>을 붙여 사용하면 된다.</li><li>이 때, 비동기 처리 메소드가 꼭 프로미스 객체를 반환해야 <code>await</code>이 의도한 대로 동작한다.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delay</span>(<span class="params">ms</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getApple</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> delay(<span class="number">2000</span>)</span><br><span class="line">    .then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="string">'apple'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 위의 getApple을 await을 사용하면 ****아래와 같이 사용할 수 있다.</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getApple</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> delay(<span class="number">2000</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'apple'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>이제 다음의 코드를 보자. promise를 사용하여 <code>getApple</code> 과 <code>getBanana</code> 를 모두 가져오는 함수이다.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pickFruits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getApple().then(<span class="function"><span class="params">apple</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getBanana().then(<span class="function"><span class="params">banana</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;apple&#125;</span> + <span class="subst">$&#123;banana&#125;</span>`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pickFruits().then(<span class="built_in">console</span>.log);</span><br><span class="line"><span class="comment">// 출력</span></span><br><span class="line"><span class="comment">// apple + banana</span></span><br></pre></td></tr></table></figure><ul><li>마치 콜백 헬과 비슷한 느낌이 든다.</li><li>위의 코드에 <code>async / await</code> 을 적용하여 보자.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">pickFruits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> apple = <span class="keyword">await</span> getApple();</span><br><span class="line">    <span class="keyword">const</span> banana = <span class="keyword">await</span> getBanana();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;apple&#125;</span> + <span class="subst">$&#123;banana&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>훨씬 깔끔해진 것을 볼 수 있다.</li><li><code>async / await</code> 에서 에러처리는 <code>try / catch</code> 문을 사용하면 된다.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 예외 처리 추가</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">pickFruits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> apple;</span><br><span class="line">    <span class="keyword">let</span> banana;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        apple = <span class="keyword">await</span> getApple();</span><br><span class="line">        banana = <span class="keyword">await</span> getBanana();</span><br><span class="line">    &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;apple&#125;</span> + <span class="subst">$&#123;banana&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>여기서 문제가 있다. <code>getApple</code> 에서 2초가 소요되고, <code>getBanana</code> 에서 2초가 소요된다.</li><li>즉, 총 4초가 소요되는 것이다. <code>getApple</code> 와 <code>getBanana</code> 와 같이 서로 연관되어 있지 않아 기다릴 필요가 없는 로직이 순차적으로 수행된다면 비효율적이다.</li><li>이 부분을 개선해보자.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">pickFruits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> applePromise = getApple();</span><br><span class="line">    <span class="keyword">const</span> bananaPromise = getBanana();</span><br><span class="line">    <span class="keyword">const</span> apple = <span class="keyword">await</span> applePromise;</span><br><span class="line">    <span class="keyword">const</span> banana = <span class="keyword">await</span> bananaPromise;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;apple&#125;</span> + <span class="subst">$&#123;banana&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>위와 같이 각각의 함수에 대한 promise를 생성하면, promise는 생성되는 순간 내부의 코드 블럭이 실행되기 때문에 <code>getApple</code> 과 <code>getBanana</code> 에 해당하는 promise가 실행되게 된다.</li><li>이후에 <code>await</code> 을 통해 동기화 해주게 되면 2초 만에 병렬적으로 실행되는 것을 볼 수 있다.</li><li>하지만 코드가 지저분해지는 것이 느껴진다..</li><li>이럴 때에 유용한 Promise API 가 있는데, 바로 <code>Promise.all()</code> 이다.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pickAllFruits</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.all([getApple(), getBanana()])</span><br><span class="line">    .then(<span class="function"><span class="params">fruits</span> =&gt;</span> fruits.join(<span class="string">' + '</span>));</span><br><span class="line">&#125;</span><br><span class="line">pickAllFruits().then(<span class="built_in">console</span>.log);</span><br></pre></td></tr></table></figure><ul><li><p><code>Promise.all()</code> 프로미스 배열을 전달하게 되면 모든 프로미스들이 병렬적으로 다 받을 때까지 모아준다.</p></li><li><p>참고로 <code>Promise.race()</code> 라는 API가 있는데, <code>Promise.race()</code> 는 프로미스 배열에서 가장 먼저 값을 리턴하는 프로미스만 전달해준다.</p></li></ul><blockquote><p>참조<br>&lt;<a href="https://joshua1988.github.io/web-development/javascript/js-async-await/" target="_blank" rel="external nofollow noopener noreferrer">https://joshua1988.github.io/web-development/javascript/js-async-await/</a>&gt;<br>&lt;<a href="https://www.youtube.com/watch?v=aoQSOZfz3vQ" target="_blank" rel="external nofollow noopener noreferrer">https://www.youtube.com/watch?v=aoQSOZfz3vQ</a>&gt;</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;async-amp-await&quot;&gt;&lt;a href=&quot;#async-amp-await&quot; class=&quot;headerlink&quot; title=&quot;async &amp;amp; await&quot;&gt;&lt;/a&gt;async &amp;amp; await&lt;/h2&gt;&lt;p&gt;async, await은 
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>자바스크립트(JavaScript) - Promise</title>
    <link href="https://kyu9341.github.io/JavaScript/2020/08/02/JavaScript_promise/"/>
    <id>https://kyu9341.github.io/JavaScript/2020/08/02/JavaScript_promise/</id>
    <published>2020-08-01T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.063Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>Promise는 비동기 처리를 위한 자바스크립트 객체이다.</p><p><strong>프로미스의 상태</strong></p><ul><li><strong>pending</strong> : 프로미스가 만들어져 지정한 연산이 수행중일 때</li><li><strong>fulfilled</strong> : 연산을 성공적으로 마치고 프로미스가 결과 값을 반환해준 상태</li><li><strong>rejected</strong> : 비동기 처리가 실패하거나 오류가 발생한 상태</li></ul><hr><ul><li><strong>Promise 생성</strong><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// doing some heavy work (network, read files)</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'doing someting...'</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="string">'kwon'</span>);</span><br><span class="line">        <span class="comment">// reject(new Error('no network'));</span></span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>promise에는 executor 라는 콜백 함수를 전달해 주어야 하는데, 이 콜백함수에는 또 두 가지 콜백 함수를 인자로 받는다.</p><ul><li><strong>resolve</strong> : 기능을 정상적으로 수행하여 마지막에 최종 데이터를 전달하는 콜백함수</li><li><strong>reject</strong> : 기능을 수행하다가 중간에 문제가 생기면 호출하게 되는 콜백함수 (보통 Error라는 오브젝트를 통해 값을 전달한다)</li><li><strong>새로운 promise가 만들어지는 순간 executor 라는 콜백함수가 자동적으로 실행되게 된다.</strong></li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">  .then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(value);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error)</span><br><span class="line">  &#125;)</span><br><span class="line">  .finally(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'finally'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// 출력</span></span><br><span class="line"><span class="comment">// kwon</span></span><br><span class="line"><span class="comment">// finally</span></span><br></pre></td></tr></table></figure><ul><li><strong>then</strong> : promise가 정상적으로 수행이 된 경우 resolve로부터 값을 받아와서 실행한다.<ul><li>then은 또 다시 promise를 리턴한다.</li></ul></li><li><strong>catch</strong> : 에러가 발생했을 때 처리할 콜백 함수를 정의</li><li><strong>finally</strong> : promise의 성공, 실패 여부와 관계없이 언제나 실행된다.</li></ul><hr><ul><li><p><strong>promise chaining</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchNumber = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(<span class="number">1</span>), <span class="number">1000</span>); <span class="comment">// 1초 후 1을 전달</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fetchNumber</span><br><span class="line">.then(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span>)</span><br><span class="line">.then(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">3</span>)</span><br><span class="line">.then(<span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(num - <span class="number">1</span>), <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">num</span> =&gt;</span> <span class="built_in">console</span>.log(num));</span><br><span class="line"><span class="comment">// 출력</span></span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure></li><li><p>then에서는 값을 바로 전달해도 되고, 또 다른 비동기인 promise를 전달해도 된다.</p></li></ul><hr><ul><li><p><strong>Error Handling</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getOne = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(<span class="string">'one'</span>), <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> getTwo = <span class="function"><span class="params">one</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(<span class="string">`<span class="subst">$&#123;one&#125;</span> =&gt; two`</span>), <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> getThree = <span class="function"><span class="params">two</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(<span class="string">`<span class="subst">$&#123;two&#125;</span> =&gt; three`</span>), <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>위와 같이 각각의 함수에서 프로미스를 리턴하도록 해보자.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">getOne()</span><br><span class="line">.then(<span class="function"><span class="params">one</span> =&gt;</span> getTwo(one))</span><br><span class="line">.then(<span class="function"><span class="params">two</span> =&gt;</span> getThree(two))</span><br><span class="line">.then(<span class="function"><span class="params">three</span> =&gt;</span> <span class="built_in">console</span>.log(three))</span><br><span class="line">.catch(<span class="function"><span class="params">three</span> =&gt;</span> <span class="built_in">console</span>.log(three));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아래와 같이 변경 가능</span></span><br><span class="line"></span><br><span class="line">getOne()</span><br><span class="line">.then(getTwo)</span><br><span class="line">.then(getThree)</span><br><span class="line">.then(<span class="built_in">console</span>.log)</span><br><span class="line">.catch(<span class="built_in">console</span>.log);</span><br><span class="line"><span class="comment">// 출력</span></span><br><span class="line"><span class="comment">// one =&gt; two =&gt; three</span></span><br></pre></td></tr></table></figure></li><li><p>프로미스 체이닝을 통해 문자열을 누적하여 <code>one =&gt; two =&gt; three</code> 의 결과를 출력하게 된다.</p></li><li><p>이 때, 중간에 <code>getTwo</code> 함수에서 에러가 발생한다고 가정해보자.</p></li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getTwo = <span class="function"><span class="params">one</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`<span class="subst">$&#123;one&#125;</span> =&gt; two`</span>)), <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>에러가 발생하면 가장 아래의 catch로 이동하여 에러를 잡게 되며 <code>Error: one =&gt; two</code> 와 같은 에러 메시지가 출력될 것이다.</li><li>여기서, 아래와 같이 <code>.then(one =&gt; getTwo(one))</code> 아래에 catch를 넣어서 ‘zero’를 리턴해보자.</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getOne()</span><br><span class="line">.then(<span class="function"><span class="params">one</span> =&gt;</span> getTwo(one))</span><br><span class="line">.catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="string">'zero'</span>)</span><br><span class="line">.then(<span class="function"><span class="params">two</span> =&gt;</span> getThree(two))</span><br><span class="line">.then(<span class="function"><span class="params">three</span> =&gt;</span> <span class="built_in">console</span>.log(three))</span><br><span class="line">.catch(<span class="function"><span class="params">three</span> =&gt;</span> <span class="built_in">console</span>.log(three));</span><br><span class="line"><span class="comment">// 출력 zero =&gt; three</span></span><br></pre></td></tr></table></figure><ul><li>전달된 에러를 받아 처리해 ‘zero’라는 문자열을 리턴하게 되면 다음 then에서 ‘zero’를 받아 이어서 처리를 할 수 있게 된다.</li><li>이렇게 중간에 처리를 해주게 되면 전체적인 프로미스 체인에 문제가 발생하지 않도록 할 수 있다.</li></ul><blockquote><p>참조<br><a href="https://www.youtube.com/watch?v=JB_yU6Oe2eE&amp;list=WL&amp;index=13&amp;t=75s" target="_blank" rel="external nofollow noopener noreferrer">https://www.youtube.com/watch?v=JB_yU6Oe2eE&amp;list=WL&amp;index=13&amp;t=75s</a><br><a href="https://joshua1988.github.io/web-development/javascript/promise-for-beginners/" target="_blank" rel="external nofollow noopener noreferrer">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Promise&quot;&gt;&lt;a href=&quot;#Promise&quot; class=&quot;headerlink&quot; title=&quot;Promise&quot;&gt;&lt;/a&gt;Promise&lt;/h2&gt;&lt;p&gt;Promise는 비동기 처리를 위한 자바스크립트 객체이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;프로
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>자바스크립트(JavaScript) - for ...in 과 for ...of</title>
    <link href="https://kyu9341.github.io/JavaScript/2020/07/31/JavaScript_for_in_for_of/"/>
    <id>https://kyu9341.github.io/JavaScript/2020/07/31/JavaScript_for_in_for_of/</id>
    <published>2020-07-30T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.063Z</updated>
    
    <content type="html"><![CDATA[<h2 id="for-…-in-과-for-…-of"><a href="#for-…-in-과-for-…-of" class="headerlink" title="for … in 과 for … of"></a>for … in 과 for … of</h2><p>ES6 부터 추가된 문법이다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ...in</span><br><span class="line"><span class="keyword">for</span> ...of</span><br></pre></td></tr></table></figure><p>두 가지 모두 반복문으로 사용되는데 조금 차이가 있다.</p><h3 id="for-…in-객체-순환"><a href="#for-…in-객체-순환" class="headerlink" title="for …in - 객체 순환"></a>for …in - 객체 순환</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">kwon: <span class="number">1</span>,</span><br><span class="line">kim: <span class="number">2</span>,</span><br><span class="line">jo: <span class="number">3</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> obj) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(item + <span class="string">': '</span> + obj[item]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>출력</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kwon: <span class="number">1</span></span><br><span class="line">kim: <span class="number">2</span></span><br><span class="line">jo: <span class="number">3</span></span><br></pre></td></tr></table></figure><p>위의 코드에서 <code>for ...of</code> 를 사용한다면 다음과 같은 에러가 발생한다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">TypeError</span>: obj is not iterable</span><br></pre></td></tr></table></figure><p>이터러블하지 않다고 한다. 즉 반복가능한 객체가 아니기 때문에 에러가 발생한 것이다.</p><p>이 결과를 보면 <code>for ...of</code> 가 어떻게 사용되어야 하는지 유추할 수 있다.</p><h3 id="for-…of-배열-순환"><a href="#for-…of-배열-순환" class="headerlink" title="for …of - 배열 순환"></a>for …of - 배열 순환</h3><p><code>for ...of</code> 문은 반복가능한 객체를 통해 반복하는 루프를 만든다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>출력</strong></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure><p>위의 코드에서 <code>for ...in</code> 을 사용한다면 다음과 같은 결과가 나온다.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p>자바스크립트에서는 배열 또한 객체이기 때문에 해당 객체의 키값이 출력되게 된다.</p><p>배열로 생각하면 index라고 보면 될 것이다.</p><blockquote><p>참조<br><a href="https://velog.io/@eomttt/for-...in-for-...of-%EC%B0%A8%EC%9D%B4" target="_blank" rel="external nofollow noopener noreferrer">https://velog.io/@eomttt/for-...in-for-...of-%EC%B0%A8%EC%9D%B4</a><br><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Loops_and_iteration#for...in_%EB%AC%B8" target="_blank" rel="external nofollow noopener noreferrer">https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Loops_and_iteration#for...in_%EB%AC%B8</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;for-…-in-과-for-…-of&quot;&gt;&lt;a href=&quot;#for-…-in-과-for-…-of&quot; class=&quot;headerlink&quot; title=&quot;for … in 과 for … of&quot;&gt;&lt;/a&gt;for … in 과 for … of&lt;/h2&gt;&lt;p&gt;ES
      
    
    </summary>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="https://kyu9341.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>스프링 - 계층 구조</title>
    <link href="https://kyu9341.github.io/java/2020/07/08/java_springBoot_Layer/"/>
    <id>https://kyu9341.github.io/java/2020/07/08/java_springBoot_Layer/</id>
    <published>2020-07-07T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.098Z</updated>
    
    <content type="html"><![CDATA[<h2 id="스프링-계층-구조"><a href="#스프링-계층-구조" class="headerlink" title="스프링 계층 구조"></a>스프링 계층 구조</h2><ul><li>진행중인 프로젝트에서 계층 구조를 고려하여 각 계층의 역할을 제대로 분담하도록 하기 위해 스프링의 계층 구조에 대해 조사해 정리한다.</li><li><code>스프링 부트와 AWS로 혼자 구현하는 웹 서비스</code>라는 책의 계층 구조에 관한 내용을 참고하였다.</li></ul><h4 id="용어-정리"><a href="#용어-정리" class="headerlink" title="용어 정리"></a>용어 정리</h4><h5 id="DTO"><a href="#DTO" class="headerlink" title="DTO"></a>DTO</h5><ul><li>각 계층간 데이터 교환을 위한 자바 객체를 의미.</li><li>데이터를 각 레이어 간에 전달하는 목적을가지며 객체의 속성과 getter, setter만 가지고 있다. (VO : value Object 라고도 함)</li></ul><h5 id="DAO"><a href="#DAO" class="headerlink" title="DAO"></a>DAO</h5><ul><li>DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 객체</li></ul><hr><ul><li>View Layer와 DB Layer의 역할 분리를 철저하게 하는 것이 좋다.</li><li>실제로 Controller에서 결괏값으로 여러 테이블을 조인해서 줘야 할 경우가 빈번하므로 Entity 클래스 만으로 표현하기가 어려운 경우가 많다.</li><li>Entity 클래스와 Controller에서 쓸 DTO는 분리해서 사용해야 한다.</li></ul><h3 id="스프링-웹-계층"><a href="#스프링-웹-계층" class="headerlink" title="스프링 웹 계층"></a>스프링 웹 계층</h3><ul><li>스프링 부트와 AWS로 혼자 구현하는 웹 서비스 참조<img src="https://kyu9341.github.io/img/springLayer.png" alt="vs_write" width height></li></ul><h3 id="Web-Layer"><a href="#Web-Layer" class="headerlink" title="Web Layer"></a>Web Layer</h3><ul><li>흔히 사용하는 컨트롤러와 뷰 템플릿 영역이다.</li><li>이외에도 필터, 인터셉터, 컨트롤러 어드바이스 등 <strong>외부 요청과 응답</strong> 에 대한 전반적인 영역을 의미한다.</li></ul><h3 id="Service-Layer"><a href="#Service-Layer" class="headerlink" title="Service Layer"></a>Service Layer</h3><ul><li><code>@Service</code> 에 사용되는 서비스 영역이다.</li><li>일반적으로 Controller와 Dao의 중간 영역에서 사용된다.</li><li><code>@Transactional</code> 이 사용되어야 하는 영역이기도 하다.</li><li>서비스에서는 트랜잭션과 도메인 간의 순서만 보장한다.</li></ul><h3 id="Repository-Layer"><a href="#Repository-Layer" class="headerlink" title="Repository Layer"></a>Repository Layer</h3><ul><li><strong>Database</strong> 와 같이 데이터 저장소에 접근하는 영역이다.</li><li>Dao(Data Access Object) 영역이라고 생각하면 된다.</li></ul><h3 id="DTOs"><a href="#DTOs" class="headerlink" title="DTOs"></a>DTOs</h3><ul><li>DTO(Data Transfer Object)는 <strong>계층 간에 데이터 교환을 위한 객체</strong> 를 의미, DTOs는 이들의 영역을 의미한다.</li><li>예를 들어, 뷰 템플릿 엔진에서 사용될 객체나 Repository Layer에서 결과로 넘겨준 객체 등이 이들을 말한다.</li></ul><h3 id="Domain-Model"><a href="#Domain-Model" class="headerlink" title="Domain Model"></a>Domain Model</h3><ul><li>도메인이라 불리는 개발 대상을 모든 사람들이 동일한 관점에서 이해할 수 있고 공유할 수 있도록 단순화시킨 것을 도메인 모델이라 한다.</li><li>비즈니스 로직을 처리하는 영역이다.</li><li>이를테면 택시 앱이라 하면 배차, 탑승, 요금 등이 모두 도메인이 될 수 있다.</li><li><code>@Entity</code> 가 사용된 영역 역시 도메인 모델이라고 이해하면 된다.</li><li>다만, 무조건 데이터베이스의 테이블과 관계가 있어야 하는 것은 아니다.</li><li>VO처럼 값 객체들도 이 영역에 해당한다.</li></ul><hr><h3 id="왜-비즈니스-로직을-도메인-계층에-작성하는가"><a href="#왜-비즈니스-로직을-도메인-계층에-작성하는가" class="headerlink" title="왜 비즈니스 로직을 도메인 계층에 작성하는가"></a>왜 비즈니스 로직을 도메인 계층에 작성하는가</h3><ul><li>Service Layer는 다양한 Model(Domain)을 읽어 제공한다. 복잡한 서비스는 더 많은 Model을 읽어 서비스를 제공하기 때문에 Service 로직의 복잡도가 매우 높아진다.</li><li>이런 로직의 복잡도를 낮추기 위해 최대한 비즈니스 로직을 Model(Domain)쪽으로 이동시킨다.</li><li>복잡도를 낮춤으로써 유지보수와 테스트하기 쉬운 코드가 생기고 결국엔 유연한 Software를 얻을 수 있다.</li></ul><hr><h3 id="Service-Layer-작성-시-주의사항"><a href="#Service-Layer-작성-시-주의사항" class="headerlink" title="Service Layer 작성 시 주의사항"></a>Service Layer 작성 시 주의사항</h3><ul><li>Service는 다른 Service를 조합하거나 DAO를 연결하는 역할을 수행.</li><li>Service는 가볍게, Service에 핵심 비즈니스 로직을 구현하기 보다는 로직의 상태값을 가지고 있는 모델이 담당해야 한다.</li><li>Service에서 Service를 참조 가능하나 계층 구조가 명확해야한다.<ul><li>(순환참조를 방지하기 위해서)</li></ul></li></ul><blockquote><p>참조<br>스프링 부트와 AWS로 혼자 구현하는 웹 서비스<br>&lt;<a href="https://nesoy.github.io/articles/2018-04/why-close-to-domain" target="_blank" rel="external nofollow noopener noreferrer">https://nesoy.github.io/articles/2018-04/why-close-to-domain</a>&gt;<br>&lt;<a href="https://happyer16.tistory.com/entry/Spring-layered-architecture%EC%99%80-%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%A0%81%EC%9C%BC%EB%A1%9C-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0" target="_blank" rel="external nofollow noopener noreferrer">https://happyer16.tistory.com/entry/Spring-layered-architecture와-객체지향적으로-개발하기</a>&gt;<br>&lt;<a href="https://umbum.tistory.com/1066" target="_blank" rel="external nofollow noopener noreferrer">https://umbum.tistory.com/1066</a>&gt;<br>&lt;<a href="https://velog.io/@sumusb/Spring-Service-Layer%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EC%B0%B0" target="_blank" rel="external nofollow noopener noreferrer">https://velog.io/@sumusb/Spring-Service-Layer에-대한-고찰</a>&gt;</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;스프링-계층-구조&quot;&gt;&lt;a href=&quot;#스프링-계층-구조&quot; class=&quot;headerlink&quot; title=&quot;스프링 계층 구조&quot;&gt;&lt;/a&gt;스프링 계층 구조&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;진행중인 프로젝트에서 계층 구조를 고려하여 각 계층의 역할을 제대
      
    
    </summary>
    
    
      <category term="java" scheme="https://kyu9341.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://kyu9341.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>백준 2812번 크게 만들기</title>
    <link href="https://kyu9341.github.io/algorithm/2020/07/07/algorithm2812/"/>
    <id>https://kyu9341.github.io/algorithm/2020/07/07/algorithm2812/</id>
    <published>2020-07-07T10:51:12.000Z</published>
    <updated>2020-08-28T02:14:04.085Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-2812"><a href="#Problem-2812" class="headerlink" title="Problem 2812"></a>Problem 2812</h1><h2 id="크게-만들기"><a href="#크게-만들기" class="headerlink" title="크게 만들기"></a>크게 만들기</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>N자리 숫자가 주어졌을 때, 여기서 숫자 K개를 지워서 얻을 수 있는 가장 큰 수를 구하는 프로그램을 작성하시오.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 N과 K가 주어진다. (1 ≤ K &lt; N ≤ 500,000)</p><p>둘째 줄에 N자리 숫자가 주어진다. 이 수는 0으로 시작하지 않는다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>입력으로 주어진 숫자에서 K개를 지웠을 때 얻을 수 있는 가장 큰 수를 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/2812" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/2812</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>4 2<br>1924</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>94</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>프로그래머스에도 같은 문제가 있지만 시간 제한이 좀 널널했다.</li><li>하지만 같은 방식으로는 시간초과가 나기 때문에 deque를 이용하여 해결하였다. (스택을 사용해도 충분하지만 출력을 편하게 하기 위해)</li><li>덱이 비어있다면 원소를 넣고, 비어있지 않다면 덱의 가장 뒤의 원소와 현재 숫자를 비교한다.</li><li>현재 숫자가 더 작다면 그냥 맨 뒤에 원소를 추가하고, 현재 숫자가 더 크다면 덱의 맨 뒤의 원소를 계속해서 pop해준다. (cnt가 k보다 작을 때에 한에서)</li><li>전체를 모두 확인하고도 cnt가 k보다 작다면 그 차이 만큼 덱의 뒤에서 지워준다.</li><li>덱의 맨 앞에서부터 빼면서 ans에 누적하여 출력한다.</li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, k;</span><br><span class="line"><span class="built_in">string</span> number;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; number;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; dq;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> ans = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; number.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="keyword">int</span> now = number[i] - <span class="string">'0'</span>;</span><br><span class="line"><span class="keyword">if</span> (dq.empty()) &#123;</span><br><span class="line">dq.push_back(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="comment">// 비어있지 않은 경우 덱의 가장 뒤의 원소가 현재 원소보다 작다면 pop한다.</span></span><br><span class="line"><span class="keyword">while</span> (!dq.empty() &amp;&amp; dq.back() &lt; now &amp;&amp; cnt &lt; k) &#123;</span><br><span class="line">dq.pop_back();</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">dq.push_back(now);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 아직 지우지 못한 만큼 뒤에서 지워준다.</span></span><br><span class="line"><span class="keyword">while</span> (cnt != k) &#123;</span><br><span class="line">dq.pop_back();</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 앞에서부터 빼면서 ans에 누적</span></span><br><span class="line"><span class="keyword">while</span> (!dq.empty()) &#123;</span><br><span class="line">ans += dq.front() + <span class="string">'0'</span>;</span><br><span class="line">dq.pop_front();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-2812&quot;&gt;&lt;a href=&quot;#Problem-2812&quot; class=&quot;headerlink&quot; title=&quot;Problem 2812&quot;&gt;&lt;/a&gt;Problem 2812&lt;/h1&gt;&lt;h2 id=&quot;크게-만들기&quot;&gt;&lt;a href=&quot;#크게-만들기&quot;
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>백준 1062번 가르침</title>
    <link href="https://kyu9341.github.io/algorithm/2020/07/07/algorithm1062/"/>
    <id>https://kyu9341.github.io/algorithm/2020/07/07/algorithm1062/</id>
    <published>2020-07-07T06:51:12.000Z</published>
    <updated>2020-08-28T02:14:04.063Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-1062"><a href="#Problem-1062" class="headerlink" title="Problem 1062"></a>Problem 1062</h1><h2 id="가르침"><a href="#가르침" class="headerlink" title="가르침"></a>가르침</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>남극에 사는 김지민 선생님은 학생들이 되도록이면 많은 단어를 읽을 수 있도록 하려고 한다. 그러나 지구온난화로 인해 얼음이 녹아서 곧 학교가 무너지기 때문에, 김지민은 K개의 글자를 가르칠 시간 밖에 없다. 김지민이 가르치고 난 후에는, 학생들은 그 K개의 글자로만 이루어진 단어만을 읽을 수 있다. 김지민은 어떤 K개의 글자를 가르쳐야 학생들이 읽을 수 있는 단어의 개수가 최대가 되는지 고민에 빠졌다.</p><p>남극언어의 모든 단어는 “anta”로 시작되고, “tica”로 끝난다. 남극언어에 단어는 N개 밖에 없다고 가정한다. 학생들이 읽을 수 있는 단어의 최댓값을 구하는 프로그램을 작성하시오.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 단어의 개수 N과 K가 주어진다. N은 50보다 작거나 같은 자연수이고, K는 26보다 작거나 같은 자연수 또는 0이다. 둘째 줄부터 N개의 줄에 남극 언어의 단어가 주어진다. 단어는 영어 소문자로만 이루어져 있고, 길이가 8보다 크거나 같고, 15보다 작거나 같다. 모든 단어는 중복되지 않는다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄에 김지민이 K개의 글자를 가르칠 때, 학생들이 읽을 수 있는 단어 개수의 최댓값을 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/1062" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/1062</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>3 6<br>antarctica<br>antahellotica<br>antacartica</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>2</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>기본적으로 [‘a’, ‘n’, ‘t’, ‘i’, ‘c’] 의 5개의 문자를 알지 못하면 읽을 수 있는 단어의 개수는 0이된다.</li><li>각각의 단어에 위의 5가지 문자를 제외한 문자만 set의 벡터를 만들어 각각의 set에 추가한다.</li><li>k가 5 이상인 경우 5개 문자 외의 k - 5 개의 문자의 조합을 구하여 해당 조합의 문자로 읽을 수 있는 단어의 최댓값을 구하면 된다.</li><li>이 때, 기본 5개의 문자 외에 다른 문자가 없이 중복된 문자로 추가되는 경우를 체크하기 위해 벡터의 현재 set이 비어있는 경우에도 갯수를 증가시킨다.</li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, k;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">char</span>&gt; s;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">set</span>&lt;<span class="keyword">char</span>&gt;&gt; v;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">char</span> start)</span> </span>&#123;</span><br><span class="line"><span class="comment">// k - 5 개를 뽑아서 해당 문자로 몇 개를 만들 수 있는지 확인</span></span><br><span class="line"><span class="keyword">if</span> (index == k - <span class="number">5</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="keyword">bool</span> ok = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = v[i].<span class="built_in">begin</span>(); it != v[i].<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s.<span class="built_in">find</span>(*it) == s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">ok = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 포함되지 않은 다른 문자가 없는 경우</span></span><br><span class="line"><span class="keyword">if</span> (ok || v[i].empty()) cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ans &lt; cnt) ans = cnt;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">char</span> i = start; i &lt;= <span class="string">'z'</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s.<span class="built_in">find</span>(i) != s.<span class="built_in">end</span>()) <span class="keyword">continue</span>;</span><br><span class="line">s.insert(i);</span><br><span class="line">dfs(index + <span class="number">1</span>, i);</span><br><span class="line">s.erase(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="comment">// 5개의 문자를 먼저 입력</span></span><br><span class="line">s.insert(<span class="string">'a'</span>);</span><br><span class="line">s.insert(<span class="string">'n'</span>);</span><br><span class="line">s.insert(<span class="string">'t'</span>);</span><br><span class="line">s.insert(<span class="string">'i'</span>);</span><br><span class="line">s.insert(<span class="string">'c'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line"><span class="built_in">cin</span>.ignore();</span><br><span class="line">v.resize(n);</span><br><span class="line"><span class="comment">// 각각 단어의 기본 5개의 문자를 외의 문자만 각각의 set에 추가</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="built_in">string</span> input;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; input;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">4</span>; j &lt; input.<span class="built_in">size</span>() - <span class="number">4</span>; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (s.<span class="built_in">find</span>(input[j]) == s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">v[i].insert(input[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 5개 미만의 수를 가르치면 읽을 수 있는 단어가 없음</span></span><br><span class="line"><span class="keyword">if</span>(k &gt;= <span class="number">5</span>) dfs(<span class="number">0</span>, <span class="string">'a'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-1062&quot;&gt;&lt;a href=&quot;#Problem-1062&quot; class=&quot;headerlink&quot; title=&quot;Problem 1062&quot;&gt;&lt;/a&gt;Problem 1062&lt;/h1&gt;&lt;h2 id=&quot;가르침&quot;&gt;&lt;a href=&quot;#가르침&quot; class
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>백준 3055번 탈출</title>
    <link href="https://kyu9341.github.io/algorithm/2020/07/03/algorithm3055/"/>
    <id>https://kyu9341.github.io/algorithm/2020/07/03/algorithm3055/</id>
    <published>2020-07-03T06:21:12.000Z</published>
    <updated>2020-08-28T02:14:04.086Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-3055"><a href="#Problem-3055" class="headerlink" title="Problem 3055"></a>Problem 3055</h1><h2 id="탈출"><a href="#탈출" class="headerlink" title="탈출"></a>탈출</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>사악한 암흑의 군주 이민혁은 드디어 마법 구슬을 손에 넣었고, 그 능력을 실험해보기 위해 근처의 티떱숲에 홍수를 일으키려고 한다. 이 숲에는 고슴도치가 한 마리 살고 있다. 고슴도치는 제일 친한 친구인 비버의 굴로 가능한 빨리 도망가 홍수를 피하려고 한다.</p><p>티떱숲의 지도는 R행 C열로 이루어져 있다. 비어있는 곳은 ‘.’로 표시되어 있고, 물이 차있는 지역은 ‘*‘, 돌은 ‘X’로 표시되어 있다. 비버의 굴은 ‘D’로, 고슴도치의 위치는 ‘S’로 나타내어져 있다.</p><p>매 분마다 고슴도치는 현재 있는 칸과 인접한 네 칸 중 하나로 이동할 수 있다. (위, 아래, 오른쪽, 왼쪽) 물도 매 분마다 비어있는 칸으로 확장한다. 물이 있는 칸과 인접해있는 비어있는 칸(적어도 한 변을 공유)은 물이 차게 된다. 물과 고슴도치는 돌을 통과할 수 없다. 또, 고슴도치는 물로 차있는 구역으로 이동할 수 없고, 물도 비버의 소굴로 이동할 수 없다.</p><p>티떱숲의 지도가 주어졌을 때, 고슴도치가 안전하게 비버의 굴로 이동하기 위해 필요한 최소 시간을 구하는 프로그램을 작성하시오.</p><p>고슴도치는 물이 찰 예정인 칸으로 이동할 수 없다. 즉, 다음 시간에 물이 찰 예정인 칸으로 고슴도치는 이동할 수 없다. 이동할 수 있으면 고슴도치가 물에 빠지기 때문이다.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 50보다 작거나 같은 자연수 R과 C가 주어진다.</p><p>다음 R개 줄에는 티떱숲의 지도가 주어지며, 문제에서 설명한 문자만 주어진다. ‘D’와 ‘S’는 하나씩만 주어진다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄에 고슴도치가 비버의 굴로 이동할 수 있는 가장 빠른 시간을 출력한다. 만약, 안전하게 비버의 굴로 이동할 수 없다면, “KAKTUS”를 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/3055" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/3055</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>3 3<br>D.*<br>…<br>.S.</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>3</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>먼저, 각 위치에 물이 도달하는데 걸리는 시간을 waterFlow()함수에서 water에 기록한다.(BFS)</li><li>고슴도치의 시작 위치에서 bfs를 시작하여 비버의 굴 까지 도착하는데 걸리는 시간을 구한다.<ul><li>이 때, 물이 찰 예정인 지역으로 이동할 수 없기 때문에 water에 기록된 시간보다 작은 경우만 고슴도치가 이동할 수 있는 조건을 추가한다.</li><li>물이 이동 가능한 지역은 시간을 기록하고 나머지 지역에는 -1이 존재한다.</li></ul></li><li>비버의 굴에 도착했을 때의 시간을 기록한 후 종료한다.<ul><li>bfs가 종료된 이후 비버의 굴에 방문하지 못했다면 “KAKTUS” , 방문했다면 시간 출력</li></ul></li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">50</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> r, c;</span><br><span class="line"><span class="keyword">char</span> a[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> dx[] = &#123; <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; wq; <span class="comment">// 물의 이동을 담을 큐</span></span><br><span class="line"><span class="keyword">int</span> water[MAX][MAX]; <span class="comment">// 물의 이동 시간</span></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">location</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"><span class="keyword">int</span> time;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">waterFlow</span><span class="params">()</span> </span>&#123; <span class="comment">// 물의 이동을 기록하는 함수</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!wq.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> x = wq.front().first;</span><br><span class="line"><span class="keyword">int</span> y = wq.front().second;</span><br><span class="line">wq.pop();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> nx = x + dx[i];</span><br><span class="line"><span class="keyword">int</span> ny = y + dy[i];</span><br><span class="line"><span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; nx &lt; r &amp;&amp; ny &lt; c) &#123;</span><br><span class="line"><span class="keyword">if</span> (a[nx][ny] == <span class="string">'.'</span> &amp;&amp; water[nx][ny] == <span class="number">-1</span>) &#123;</span><br><span class="line">water[nx][ny] = water[x][y] + <span class="number">1</span>;</span><br><span class="line">wq.push(make_pair(nx, ny));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c;</span><br><span class="line">location start;</span><br><span class="line"><span class="built_in">memset</span>(water, <span class="number">-1</span>, <span class="keyword">sizeof</span>(water));</span><br><span class="line"><span class="keyword">int</span> ex, ey;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c; j++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a[i][j];</span><br><span class="line"><span class="keyword">if</span> (a[i][j] == <span class="string">'S'</span>) &#123; <span class="comment">// 처음 고슴도치의 위치</span></span><br><span class="line">start.x = i;</span><br><span class="line">start.y = j;</span><br><span class="line">start.time = <span class="number">0</span>;</span><br><span class="line">check[i][j] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a[i][j] == <span class="string">'*'</span>) &#123; <span class="comment">// 물의 시작 위치</span></span><br><span class="line">wq.push(make_pair(i, j));</span><br><span class="line">water[i][j] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a[i][j] == <span class="string">'D'</span>) &#123; <span class="comment">// 목적지 위치</span></span><br><span class="line">ex = i;</span><br><span class="line">ey = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">waterFlow();</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span>&lt;location&gt; q;</span><br><span class="line">q.push(start);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> x = q.front().x;</span><br><span class="line"><span class="keyword">int</span> y = q.front().y;</span><br><span class="line"><span class="keyword">int</span> time = q.front().time;</span><br><span class="line">q.pop();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a[x][y] == <span class="string">'D'</span>) &#123; <span class="comment">// 비버의 굴에 도착했을 때</span></span><br><span class="line">ans = time; <span class="comment">// 시간 기록 후 종료</span></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> nx = x + dx[i];</span><br><span class="line"><span class="keyword">int</span> ny = y + dy[i];</span><br><span class="line"><span class="keyword">int</span> nt = time + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; nx &lt; r &amp;&amp; ny &lt; c) &#123;</span><br><span class="line"><span class="comment">// 방문하지 않았고, 빈 지역 또는 비버의 굴이며, 물이 다음에도 차오르지 않는 지역인 경우</span></span><br><span class="line"><span class="keyword">if</span> (!check[nx][ny] &amp;&amp; (a[nx][ny] == <span class="string">'.'</span> || a[nx][ny] == <span class="string">'D'</span>) &amp;&amp; (nt &lt; water[nx][ny] || water[nx][ny] == <span class="number">-1</span>)) &#123;</span><br><span class="line">q.push(location&#123; nx, ny, nt &#125;);</span><br><span class="line">check[nx][ny] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!check[ex][ey]) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"KAKTUS"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-3055&quot;&gt;&lt;a href=&quot;#Problem-3055&quot; class=&quot;headerlink&quot; title=&quot;Problem 3055&quot;&gt;&lt;/a&gt;Problem 3055&lt;/h1&gt;&lt;h2 id=&quot;탈출&quot;&gt;&lt;a href=&quot;#탈출&quot; class=&quot;
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>스프링 부트 - HandlerInterceptor</title>
    <link href="https://kyu9341.github.io/java/2020/06/19/java_springBootInceptor/"/>
    <id>https://kyu9341.github.io/java/2020/06/19/java_springBootInceptor/</id>
    <published>2020-06-19T06:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.095Z</updated>
    
    <content type="html"><![CDATA[<h3 id="스프링-부트-HandlerInterceptor"><a href="#스프링-부트-HandlerInterceptor" class="headerlink" title="스프링 부트 - HandlerInterceptor"></a>스프링 부트 - HandlerInterceptor</h3><ul><li><p>Interceptor는 말 그대로 가로채는 것을 의미한다. 예를 들어, 세션 검증이나 로그 처리 같은 기능을 수행하기 위해 특정 url에 요청이 들어오면 그 요청을 가로채 특정한 작업을 수행하는 기능이다.</p></li><li><p>현재 진행중인 프로젝트에 알림 기능이 있는데, 알림이 존재하는 경우에 알림이 있다는 표시를 해주기 위해 view에 <code>hasNotification</code>이라는 모델을 넘겨주고자 한다. 이 작업을 모든 요청에 적용하기 위해서 Interceptor를 적용할 것이다.</p></li><li><p>Interceptor는 <code>HandlerInterceptor</code>인터페이스를 구현하여 만들 수 있다.</p></li><li><p><code>HandlerInterceptor</code>의 메서드는 아래의 세 가지가 있다.</p><ul><li><strong>boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</strong><ul><li><code>Controller</code>실행 직전에 동작을 하며, 반환 값에 따라 진행 여부를 결정한다.</li></ul></li><li><strong>void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</strong><ul><li><code>Conroller</code>진입 후 view가 렌더링 되기 전에 수행을 한다.</li><li><code>modelAndView</code>를 사용하여 <code>model</code>에 데이터를 추가하는 조작이 가능하다.</li></ul></li><li><strong>void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</strong><ul><li><code>Conroller</code>진입 후 view가 렌더링 된 이후에 마지막으로 실행이 되는 메서드이다.</li></ul></li></ul></li><li><p>나는 핸들러 처리 이후 뷰가 렌더링 되기 전에 알림 여부를 가지는 모델을 추가해주기 위해 <code>postHandle</code>메서드를 구현하였다.</p></li><li><p><code>NotificationInterceptor.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NotificationInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> NotificationRepository notificationRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 뷰 렌더링 전, 핸들러 처리 이후</span></span><br><span class="line">        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();</span><br><span class="line">        <span class="keyword">if</span> (modelAndView != <span class="keyword">null</span> &amp;&amp; !isRedirectView(modelAndView) &amp;&amp; authentication != <span class="keyword">null</span> &amp;&amp; authentication.getPrincipal() <span class="keyword">instanceof</span> UserAccount) &#123;</span><br><span class="line">            Account account = ((UserAccount)authentication.getPrincipal()).getAccount();</span><br><span class="line">            <span class="keyword">long</span> count = notificationRepository.countByAccount(account);</span><br><span class="line">            modelAndView.addObject(<span class="string">"hasNotification"</span>, count &gt; <span class="number">0</span>); <span class="comment">// 알람이 있는 경우 true, 없으면 false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isRedirectView</span><span class="params">(ModelAndView modelAndView)</span> </span>&#123; <span class="comment">// 리다이렉트 요청인지 확인하는 메서드</span></span><br><span class="line">      <span class="comment">// 뷰의 이름이 redirect: 로 시작하거나, RedirectView 타입인 경우</span></span><br><span class="line">        <span class="keyword">return</span> modelAndView.getViewName().startsWith(<span class="string">"redirect:"</span>) || modelAndView.getView() <span class="keyword">instanceof</span> RedirectView;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>로그인된 사용자에게 적용하고 리다이렉트 요청에는 적용하지 않기 위해</p></li><li><p>인증 객체를 가져와 <code>modelAndView</code> 를 사용하고, <code>RedirectView</code> 가 아닌 경우, 인증 정보가 있고 <code>principal</code> 이 <code>UserAccount</code> 타입일 때 적용한다.</p></li><li><p><code>principal</code> 안에 들어있는 객체를 <code>UserAccount</code> 로 형변환하여 <code>account</code> 객체를 가져와 해당 사용자의 알림 개수를 구한다.</p></li><li><p>알림이 있는 경우 true, 없는 경우 false를 모델에 넣어준다.</p></li></ul><h4 id="HandlerInterceptor-적용하기"><a href="#HandlerInterceptor-적용하기" class="headerlink" title="HandlerInterceptor 적용하기"></a>HandlerInterceptor 적용하기</h4><ul><li><p>이제 작성한 <code>HandlerInterceptor</code>를 실제로 적용하기 위한 설정을 해주어야 한다.</p></li><li><p><code>WebMvcConfigurer</code>를 구현한 클래스를 작성하여 <code>addInterceptors</code>메서드에 해당 인터셉터를 등록하면 된다.</p></li><li><p><code>WebConfig.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@EnableWebMvc : 이 설정을 주면 스프링 부트가 제공하는 웹mvc 자동설정을 사용하지 않는다는 뜻.</span></span><br><span class="line"><span class="comment">// 지금은 추가설정만 하는 것</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> NotificationInterceptor notificationInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        registry.addInterceptor(notificationInterceptor)</span><br><span class="line">                .excludePathPatterns(<span class="string">'url패턴 추가'</span>); <span class="comment">// 인터셉터를 적용하지 않을 url 패턴</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>excludePathPatterns()</code>에 추가한 url패턴에는 인터셉터를 적용하지 않도록 설정할 수 있다.</p><ul><li>예를들어, <code>/css/**</code>, <code>/js/**</code>등과 같은 <code>static</code> 리소스들에 적용하고 싶지 않은 경우에 추가할 수 있다.</li><li>String 배열이나 리스트 타입으로 넣어줄 수 있다.</li></ul></li></ul><blockquote><p>참조<br><a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-JPA-%EC%9B%B9%EC%95%B1/dashboard" target="_blank" rel="external nofollow noopener noreferrer">https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-JPA-%EC%9B%B9%EC%95%B1/dashboard</a><br><a href="https://elfinlas.github.io/2017/12/28/SpringBootInterceptor/" target="_blank" rel="external nofollow noopener noreferrer">https://elfinlas.github.io/2017/12/28/SpringBootInterceptor/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;스프링-부트-HandlerInterceptor&quot;&gt;&lt;a href=&quot;#스프링-부트-HandlerInterceptor&quot; class=&quot;headerlink&quot; title=&quot;스프링 부트 - HandlerInterceptor&quot;&gt;&lt;/a&gt;스프링 부트 - 
      
    
    </summary>
    
    
      <category term="java" scheme="https://kyu9341.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://kyu9341.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>스프링 부트 - 기본 UserDetailsService 설정</title>
    <link href="https://kyu9341.github.io/java/2020/05/26/java_springBootUserDetailsService/"/>
    <id>https://kyu9341.github.io/java/2020/05/26/java_springBootUserDetailsService/</id>
    <published>2020-05-26T12:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.097Z</updated>
    
    <content type="html"><![CDATA[<h2 id="기본-UserDetailsService-설정"><a href="#기본-UserDetailsService-설정" class="headerlink" title="기본 UserDetailsService 설정"></a>기본 UserDetailsService 설정</h2><p>기본 <code>UserDetailsService</code>를 설정하는 방법을 보기 전에 내가 겪은 문제를 잠시 보자.</p><h3 id="로그인과-로그인-유지-기능에서의-문제"><a href="#로그인과-로그인-유지-기능에서의-문제" class="headerlink" title="로그인과 로그인 유지 기능에서의 문제"></a>로그인과 로그인 유지 기능에서의 문제</h3><p>앞선 포스팅에서 <a href="https://kyu9341.github.io/java/2020/04/30/java_springBootLogin/">로그인 기능</a>과 <a href="https://kyu9341.github.io/java/2020/05/06/java_springBootAutoLogin/">로그인 유지 기능</a>을 구현하는 방법에 대해 살펴보았다.<br>로그인 구현에 대한 포스팅에서는 닉네임과 이메일로 모두 로그인이 가능하도록 했었다.<br>현재 진행중인 프로젝트에는 이메일로만 로그인이 가능하도록 구현을 하였는데, 자동 로그인 기능까지 구현을 하고 보니 문제가 발생했다.<br>문제는 다음과 같다.</p><ul><li><p>Remember-me쿠키가 정상적으로 생성이 되지만 JSESSIONID를 지우고 리디렉션했을 때, 정상적인 경우라면 새로운 JSESSIONID가 생성되며 세션이 유지되어야 하지만 JSESSIONID와 함께 Remember-me쿠키도 같이 사라지고 세션이 사라져버린다.</p></li><li><p><code>UserDetailsService</code>의 구현체인 <code>AccountService</code>의 <code>loadUserByUsername</code>메서드이다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span>(readOnly = <span class="keyword">true</span>)</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String email)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">    Account account = accountRepository.findByEmail(email);<span class="comment">//login.html form 에서 받은 email 로 회원 검색</span></span><br><span class="line">    <span class="keyword">if</span>(account == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(<span class="string">"not found "</span>+email);<span class="comment">//해당 이메일이 없을 때 throw</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserAccount(account); <span class="comment">// User 를 확장한 UserAccount 클래스에 유저 정보와 권한을 삽입하여 반환</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>스프링 시큐리티의 <code>User</code>를 상속받은 <code>UserAccount</code>클래스</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAccount</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123; <span class="comment">// 스프링 시큐리티의 User를 상속</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Account account;</span><br><span class="line">    <span class="comment">// 스프링 시큐리티가 다루는 유저 정보를 우리가 가지고 있는 도메인의 유저 정보와 연동</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(account.getNickname(), account.getPassword(), List.of(<span class="keyword">new</span> SimpleGrantedAuthority(<span class="string">"ROLE_USER"</span>)));</span><br><span class="line">        <span class="keyword">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>위와 같이 구현되어 있었다.</p></li><li><p>이 때, username에 로그인 시 사용된 스프링 시큐리티의 User클래스를 상속한 UserAccount라는 클래스의 인스턴스로 로그인 처리를 하고 인증 정보를 저장한다.</p><ul><li>여기서 생성된 인스턴스의 username자리에 getNickname()을 넣어주었다.</li></ul></li><li><p>JSESSIONID를 지우게 되면 세션이 없어지므로 Remember-me 쿠키에 존재하는 인증 정보로 인증을 시도한다.</p></li><li><p>문제는, 여기서 다시 인증을 시도할 때, username에 nickname를 넣었으므로 nickname를 가지고 <code>loadUserByUsername</code>메소드로 가 인증을 시도한다.</p><ul><li>이 때, 위의 메소드를 보면 파라미터로 String email을 받는데, 이 email이라는 변수에 nickname이 들어와서 인증을 시도하게 된다.</li><li>하지만, 이메일만으로 <code>accountRepository</code>를 검색해보기 때문에 account 객체를 찾지 못하게 되어 재인증이 실패하게 되는 것이다.</li></ul></li><li><p>따라서, 이 문제를 해결하기 위해서는 두 가지 방법이 있다.</p></li></ul><h4 id="첫-번째-방법"><a href="#첫-번째-방법" class="headerlink" title="첫 번째 방법"></a>첫 번째 방법</h4><ul><li><code>UserAccount</code>에서 아래 코드와 같이 username부분에 이메일을 넣어주면 된다.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 로그인 시 유저 정보를 반환하기 위해 User 클래스를 확장하여 생성</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserAccount</span> <span class="keyword">extends</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Account account;</span><br><span class="line">    <span class="comment">// 스프링 시큐리티가 다루는 유저 정보를 우리가 가지고 있는 도메인의 유저 정보와 연동</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(account.getEmail(), account.getPassword(), List.of(<span class="keyword">new</span> SimpleGrantedAuthority(<span class="string">"ROLE_USER"</span>)));</span><br><span class="line">        <span class="keyword">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>위와 같이 하면 Remember-me 쿠키의 username에 이메일이 저장되고, 그 이메일로 사용자를 찾게 되므로 로그인 유지가 정상적으로 동작하게 된다.</li><li>하지만 이렇게 하면 authentication 객체의 username에 이메일이 저장되기 때문에 타임리프에서 <code>#authentication.name</code>로 접근했을 때 사용자의 닉네임이 안이라 이메일을 얻게 된다.</li><li>나는 닉네임을 얻고 싶기 때문에 다른 방법을 선택했다.</li></ul><h4 id="두-번째-방법"><a href="#두-번째-방법" class="headerlink" title="두 번째 방법"></a>두 번째 방법</h4><ul><li><code>UserAccount</code>의 username에 닉네임을 넣은 경우 Remember-me 쿠키의 username에 닉네임이 들어가게 되므로 JSESSIONID가 사라진 경우 재인증을 시도하기 위해 <code>loadUserByUsername</code>가 다시 호출된다.</li><li>이 때, <code>loadUserByUsername</code>의 인자에 닉네임이 전달되는데 현재 코드에서는 이메일로만 사용자 정보를 찾으므로 이메일로 찾지 못한 경우 닉네임으로 사용자 정보를 찾을 수 있도록 다음과 같이 작성한다.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String emailOrNickname)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        Account account = accountRepository.findByEmail(emailOrNickname);</span><br><span class="line">        <span class="keyword">if</span>(account == <span class="keyword">null</span>)&#123; <span class="comment">// 이메일로 찾지 못한 경우 닉네임으로 찾는다.</span></span><br><span class="line">            account = accountRepository.findByNickname(emailOrNickname);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(account == <span class="keyword">null</span>)&#123; <span class="comment">// 닉네임으로도 찾지 못한다면 에러를 던짐</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(emailOrNickname);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Principal 에 해당하는 객체를 리턴한다.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserAccount(account);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li>하지만 위와 같이 구현하면 로그인 폼에서 하는 일반 로그인 또한 이메일과 닉네임으로 모두 가능하게 된다.</li><li>나는 이메일로만 로그인을 하게 하고 싶기 때문에 이 방법도 사용하지 않았다.</li></ul><h3 id="다른-방법"><a href="#다른-방법" class="headerlink" title="다른 방법"></a>다른 방법</h3><ul><li><p><strong>이메일로만 로그인이 가능하고, 로그인을 했을 때 타임리프에서 #authentication.name으로 닉네임을 가져올 수 있는 방법이다.</strong></p><ul><li>즉, <code>UserAccount</code>의 username에는 닉네임을 넣고 <code>loadUserByUsername</code>에서는 이메일로만 사용자를 찾는 것을 유지하고 로그인 유지 기능 또한 정상적으로 동작할 수 있는 방법이다.</li></ul></li><li><p>방법은 RememberMe 필터가 사용할 <code>UserDetailsService</code>를 하나 더 만들면 된다.</p></li><li><p>다음과 같이 <code>RememberMeUserDetailsService</code>라는 이름으로 <code>UserDetailsService</code>구현체를 하나 더 만들었다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RememberMeUserDetailsService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span> </span>&#123;</span><br><span class="line"><span class="comment">// 로그인 유지 기능 사용 시 닉네임을 통해 데이터베이스를 조회하여 사용자 정보를 가져오기 위한 UserDetailsService 의 구현체</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountRepository accountRepository;</span><br><span class="line">    <span class="meta">@Transactional</span>(readOnly = <span class="keyword">true</span>)</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String nickname)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        Account byNickname = accountRepository.findByNickname(nickname);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (byNickname == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UsernameNotFoundException(nickname);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserAccount(byNickname);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>SecurityConfig</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">  http.rememberMe()</span><br><span class="line">          .userDetailsService(rememberMeUserDetailsService)</span><br><span class="line">          .tokenRepository(tokenRepository());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>기존에 <code>.userDetailsService(accountService)</code>를 위와 같이 변경했다.</p></li><li><p>이렇게 되면 <code>RememberMe</code>에서는 사용자의 닉네임으로 db를 조회하므로 정상적으로 로그인 유지가 가능하다.</p></li><li><p>하지만 기존 로그인 폼에서의 로그인에는 문제가 발생한다.</p></li><li><p><code>UserDetailsService</code>의 구현체가 두 개이기 때문에 어떤 것을 기본으로 로그인 시 사용할지 모르게 된다.</p></li><li><p>이 경우 기본으로 사용할 <code>UserDetailsService</code>를 아래와 같이 설정할 수 있다.</p></li><li><p><code>SecurityConfig</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// 스프링 시큐리티가 사용할 기본 AuthManager 에 이메일로만 로그인하는 UserDetailsService 를 설정하는 코드</span></span><br><span class="line">        auth.userDetailsService(accountService);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>위와 같이 설정하여 내가 원하는 기능을 구현할 수 있었다.</p></li></ul><blockquote><p>참조<br><a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-JPA-%EC%9B%B9%EC%95%B1/dashboard" target="_blank" rel="external nofollow noopener noreferrer">https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-JPA-%EC%9B%B9%EC%95%B1/dashboard</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;기본-UserDetailsService-설정&quot;&gt;&lt;a href=&quot;#기본-UserDetailsService-설정&quot; class=&quot;headerlink&quot; title=&quot;기본 UserDetailsService 설정&quot;&gt;&lt;/a&gt;기본 UserDetails
      
    
    </summary>
    
    
      <category term="java" scheme="https://kyu9341.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://kyu9341.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>MYSQL - SELECT문 관련 정리</title>
    <link href="https://kyu9341.github.io/DataBase/2020/05/21/DataBase_Mysql_select/"/>
    <id>https://kyu9341.github.io/DataBase/2020/05/21/DataBase_Mysql_select/</id>
    <published>2020-05-20T15:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.061Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MYSQL-SELECT-문-정리"><a href="#MYSQL-SELECT-문-정리" class="headerlink" title="MYSQL - SELECT 문 정리"></a>MYSQL - SELECT 문 정리</h1><ul><li>모든 컬럼 조회<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 테이블;</span><br></pre></td></tr></table></figure></li><li>특정 컬럼 조회<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼1, 컬럼2 FROM 테이블;</span><br></pre></td></tr></table></figure></li><li>중복 제외 조회<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT 컬럼1, 컬럼2 FROM 테이블;</span><br></pre></td></tr></table></figure></li></ul><h3 id="정렬-ORDER-BY"><a href="#정렬-ORDER-BY" class="headerlink" title="정렬 (ORDER BY)"></a>정렬 (ORDER BY)</h3><ul><li><p>오름차순 정렬 조회</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 테이블 ORDER BY 컬럼1 ASC(생략가능);</span><br></pre></td></tr></table></figure></li><li><p>내림차순 정렬 조회</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 테이블 ORDER BY 컬럼1 DESC;</span><br></pre></td></tr></table></figure></li></ul><h3 id="조건-WHERE"><a href="#조건-WHERE" class="headerlink" title="조건 (WHERE)"></a>조건 (WHERE)</h3><ul><li><p>조건에 맞는 행 조회</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 WHERE 조건;</span><br></pre></td></tr></table></figure></li><li><p>조건 중 하나라도 만족하는 행 조회</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 테이블 WHERE 조건1 OR 조건2;</span><br><span class="line">SELECT * FROM 테이블 WHERE 컬럼 IN (조건1, 조건2, ..);</span><br></pre></td></tr></table></figure></li></ul><h3 id="개수-구하기-COUNT"><a href="#개수-구하기-COUNT" class="headerlink" title="개수 구하기 (COUNT)"></a>개수 구하기 (COUNT)</h3><ul><li><p>전체 행 개수 조회</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT (*) FROM 테이블;</span><br></pre></td></tr></table></figure></li><li><p>중복을 제외하고 카운트</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT (DISTINCT 컬럼1) FROM 테이블;</span><br></pre></td></tr></table></figure></li></ul><h3 id="특정-문자-포함-검색-LIKE"><a href="#특정-문자-포함-검색-LIKE" class="headerlink" title="특정 문자 포함 검색 (LIKE)"></a>특정 문자 포함 검색 (LIKE)</h3><ul><li><p>특정 문자로 시작하는 데이터 검색</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼1 FROM 테이블 WHERE 컬럼1 LIKE &quot;%특정문자열&quot;;</span><br></pre></td></tr></table></figure></li><li><p>특정 문자로 끝나는 데이터 검색</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼1 FROM 테이블 WHERE 컬럼1 LIKE &quot;특정문자열%&quot;;</span><br></pre></td></tr></table></figure></li><li><p>특정 문자 포함 데이터 검색</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼1 FROM 테이블 WHERE 컬럼1 LIKE &quot;%특정문자열%&quot;;</span><br></pre></td></tr></table></figure></li></ul><h3 id="그룹화하기-GROUP-BY"><a href="#그룹화하기-GROUP-BY" class="headerlink" title="그룹화하기 (GROUP BY)"></a>그룹화하기 (GROUP BY)</h3><ul><li><p>컬럼 그룹화하기</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 GROUP BY 그룹화할 컬럼;</span><br></pre></td></tr></table></figure></li><li><p>조건 후에 그룹화</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 WHERE 조건식 GROUP BY 그룹화할 컬럼;</span><br></pre></td></tr></table></figure></li><li><p>그룹화 후에 조건</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 GROUP BY 그룹화할 컬럼 HAVING 조건식;</span><br></pre></td></tr></table></figure></li></ul><h3 id="NULL-값-체크"><a href="#NULL-값-체크" class="headerlink" title="NULL 값 체크"></a>NULL 값 체크</h3><ul><li><p>NULL 인 것을 검색</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 WHERE 컬럼 IS NULL;</span><br><span class="line">SELECT 컬럼 FROM 테이블 WHERE 컬럼 &lt;&#x3D;&gt; NULL;</span><br></pre></td></tr></table></figure></li><li><p>NULL 이 아닌 것을 검색</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼 FROM 테이블 WHERE 컬럼 IS NOT NULL;</span><br></pre></td></tr></table></figure></li></ul><h3 id="조건문-사용"><a href="#조건문-사용" class="headerlink" title="조건문 사용"></a>조건문 사용</h3><ul><li><p>IF 문</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT 컬럼, IF(조건식, 참일 때 값, 거짓일 때 값) FROM 테이블;</span><br><span class="line">&#x2F;&#x2F; ex) name컬럼이 null 값인 경우 No name 이란 문자열 출력</span><br><span class="line">SELECT name, IF(NAME IS NULL, &quot;No name&quot;, name) FROM 테이블;</span><br></pre></td></tr></table></figure></li><li><p>CASE 문</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT CASE WHEN 값 또는 조건식1 THEN &#39;표시값&#39; WHEN 값 또는 조건식2 THEN &#39;표시값2&#39; END FROM 테이블;</span><br><span class="line">SELECT CASE WHEN 값 또는 조건식1 THEN &#39;표시값&#39; WHEN 값 또는 조건식2 THEN &#39;표시값2&#39; ELSE &#39;표시값3&#39; END FROM 테이블;</span><br></pre></td></tr></table></figure></li><li><p>IFNULL 문 : 컬럼의 값이 NULL 이면 표시값 출력, NULL 이 아니라면 컬럼의 값 출력</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT IFNULL(컬럼, &#39;표시값&#39;) FROM 테이블;</span><br></pre></td></tr></table></figure></li></ul><h3 id="날짜-데이터-일부-추출"><a href="#날짜-데이터-일부-추출" class="headerlink" title="날짜 데이터 일부 추출"></a>날짜 데이터 일부 추출</h3><ul><li>YEAR() : 연도 추출</li><li>MONTH() : 월 추출</li><li>DAY() : 일 추출 (DAYOFMONTH와 같은 함수)</li><li>HOUR() : 시 추출</li><li>MINUTE() : 분 추출</li><li>SECOND() : 초 추출</li></ul><h3 id="날짜-형식-설정-DATE-FORMAT"><a href="#날짜-형식-설정-DATE-FORMAT" class="headerlink" title="날짜 형식 설정 - DATE_FORMAT"></a>날짜 형식 설정 - DATE_FORMAT</h3><ul><li>현재 날짜 표시<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATE_FORMAT(NOW(),&#39;%Y-%m-%d&#39;) FROM 테이블;</span><br></pre></td></tr></table></figure></li><li>%Y : 4자리 년도</li><li>%y : 2자리 년도</li><li>%M : 긴 월 (영문)</li><li>%b : 짧은 월 (영문)</li><li>%m : 숫자 월 (두 자리)</li><li>%d : 일자 (두 자리)</li><li>%W : 긴 요일 이름 (영문)</li><li>%a : 짧은 요일 이름 (영문)</li><li>%i : 분</li><li>%S : 초</li><li>%T : hh:mm:SS</li><li>%r : hh:mm:ss AM,PM</li><li>%e : 일자 (한 자리는 한 자리로)</li><li>%c : 숫자 월 (한 자리는 한 자리로)</li><li>%H : 시간 (24시간)</li></ul><blockquote><p>참조<br><a href="https://devjhs.tistory.com/89" target="_blank" rel="external nofollow noopener noreferrer">https://devjhs.tistory.com/89</a><br><a href="https://doorbw.tistory.com/22" target="_blank" rel="external nofollow noopener noreferrer">https://doorbw.tistory.com/22</a><br><a href="https://extbrain.tistory.com/51" target="_blank" rel="external nofollow noopener noreferrer">https://extbrain.tistory.com/51</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;MYSQL-SELECT-문-정리&quot;&gt;&lt;a href=&quot;#MYSQL-SELECT-문-정리&quot; class=&quot;headerlink&quot; title=&quot;MYSQL - SELECT 문 정리&quot;&gt;&lt;/a&gt;MYSQL - SELECT 문 정리&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;
      
    
    </summary>
    
    
      <category term="DataBase" scheme="https://kyu9341.github.io/categories/DataBase/"/>
    
    
      <category term="DataBase" scheme="https://kyu9341.github.io/tags/DataBase/"/>
    
  </entry>
  
  <entry>
    <title>MariaDB (Mysql) - 계정 및 권한 부여</title>
    <link href="https://kyu9341.github.io/DataBase/2020/05/20/DataBase_Mysql_account/"/>
    <id>https://kyu9341.github.io/DataBase/2020/05/20/DataBase_Mysql_account/</id>
    <published>2020-05-20T12:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.061Z</updated>
    
    <content type="html"><![CDATA[<h3 id="DB-접속"><a href="#DB-접속" class="headerlink" title="DB 접속"></a>DB 접속</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><h3 id="사용중인-계정-조회"><a href="#사용중인-계정-조회" class="headerlink" title="사용중인 계정 조회"></a>사용중인 계정 조회</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line">select host, user, password from user;</span><br></pre></td></tr></table></figure><ul><li><code>use mysql</code> : mysql db 사용 (계정 생성을 위해)</li><li><code>select host, user, password from user</code> : 사용중인 계정 조회</li></ul><h3 id="계정-생성"><a href="#계정-생성" class="headerlink" title="계정 생성"></a>계정 생성</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create user &#39;username&#39;@&#39;localhost&#39; identified by &#39;password&#39;;                  </span><br><span class="line">create user &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</span><br></pre></td></tr></table></figure><ul><li><code>&#39;username&#39;@&#39;localhost&#39;</code> : 로컬에서만 접근 가능</li><li><code>&#39;username&#39;@&#39;%&#39;</code> : 외부 접근 모드 허용</li></ul><h3 id="권한-부여"><a href="#권한-부여" class="headerlink" title="권한 부여"></a>권한 부여</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on database.* to &#39;username&#39;@&#39;localhost&#39; identified by &#39;password&#39;;</span><br><span class="line">grant all privileges on database.* to &#39;username&#39;@&#39;%&#39; identified by &#39;password&#39;;</span><br></pre></td></tr></table></figure><ul><li><code>database.*</code> : 해당 데이터베이스의 모든 권한 부여<ul><li><code>database.table</code> : 해당 데이터베이스의 해당 테이블에 대한 권한만 부여</li><li><code>*.*</code> : 모든 데이터베이스의 모든 권한 부여</li></ul></li></ul><h3 id="사용자-삭제"><a href="#사용자-삭제" class="headerlink" title="사용자 삭제"></a>사용자 삭제</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from user where user&#x3D;&#39;username&#39;;</span><br></pre></td></tr></table></figure><h3 id="권한-변경사항-적용"><a href="#권한-변경사항-적용" class="headerlink" title="권한 변경사항 적용"></a>권한 변경사항 적용</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h3 id="현재-상태-보기"><a href="#현재-상태-보기" class="headerlink" title="현재 상태 보기"></a>현재 상태 보기</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status</span><br></pre></td></tr></table></figure><h3 id="테이블-구조-보기"><a href="#테이블-구조-보기" class="headerlink" title="테이블 구조 보기"></a>테이블 구조 보기</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">describe 테이블명;</span><br><span class="line">desc 테이블명;</span><br><span class="line">explain 테이블명;</span><br></pre></td></tr></table></figure><blockquote><p>참조<br><a href="https://kwonnam.pe.kr/wiki/database/mysql/basic" target="_blank" rel="external nofollow noopener noreferrer">https://kwonnam.pe.kr/wiki/database/mysql/basic</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;DB-접속&quot;&gt;&lt;a href=&quot;#DB-접속&quot; class=&quot;headerlink&quot; title=&quot;DB 접속&quot;&gt;&lt;/a&gt;DB 접속&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;
      
    
    </summary>
    
    
      <category term="DataBase" scheme="https://kyu9341.github.io/categories/DataBase/"/>
    
    
      <category term="DataBase" scheme="https://kyu9341.github.io/tags/DataBase/"/>
    
  </entry>
  
  <entry>
    <title>백준 1916번 최소비용 구하기</title>
    <link href="https://kyu9341.github.io/algorithm/2020/05/17/algorithm1916/"/>
    <id>https://kyu9341.github.io/algorithm/2020/05/17/algorithm1916/</id>
    <published>2020-05-16T15:01:12.000Z</published>
    <updated>2020-08-28T02:14:04.079Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-1916"><a href="#Problem-1916" class="headerlink" title="Problem 1916"></a>Problem 1916</h1><h2 id="최소비용-구하기"><a href="#최소비용-구하기" class="headerlink" title="최소비용 구하기"></a>최소비용 구하기</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>N개의 도시가 있다. 그리고 한 도시에서 출발하여 다른 도시에 도착하는 M개의 버스가 있다. 우리는 A번째 도시에서 B번째 도시까지 가는데 드는 버스 비용을 최소화 시키려고 한다. A번째 도시에서 B번째 도시까지 가는데 드는 최소비용을 출력하여라. 도시의 번호는 1부터 N까지이다.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 도시의 개수 N(1 ≤ N ≤ 1,000)이 주어지고 둘째 줄에는 버스의 개수 M(1 ≤ M ≤ 100,000)이 주어진다. 그리고 셋째 줄부터 M+2줄까지 다음과 같은 버스의 정보가 주어진다. 먼저 처음에는 그 버스의 출발 도시의 번호가 주어진다. 그리고 그 다음에는 도착지의 도시 번호가 주어지고 또 그 버스 비용이 주어진다. 버스 비용은 0보다 크거나 같고, 100,000보다 작은 정수이다.</p><p>그리고 M+3째 줄에는 우리가 구하고자 하는 구간 출발점의 도시번호와 도착점의 도시번호가 주어진다. 출발점에서 도착점을 갈 수 있는 경우만 입력으로 주어진다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄에 출발 도시에서 도착 도시까지 가는데 드는 최소 비용을 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/1916" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/1916</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>5<br>8<br>1 2 2<br>1 3 3<br>1 4 1<br>1 5 10<br>2 4 2<br>3 4 1<br>3 5 1<br>4 5 3<br>1 5</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>4</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>다익스트라 알고리즘을 이용하여 해결하였다.</li><li>다익스트라 알고리즘 동작 방식</li></ul><ol><li>출발 노드를 설정한다.</li><li>출발 노드를 기준으로 각 노드의 최소 비용을 저장한다.</li><li>방문하지 않은 노드 중에서 가장 비용이 적은 노드를 선택한다.</li><li>해당 노드를 거쳐서 특정한 노드로 가는 경우를 고려하여 최소 비용을 갱신한다.</li><li>위 과정에서 3번 ~ 4번을 반복한다.</li></ol><hr><ul><li>거리를 기준으로 최소 힙의 구조로 동작하는 우선순위 큐로 사용하기 위해 최대 힙에 비용 값을 음수로 변환하여 저장한다.</li><li>현제 노드에서 가까운 순서대로 큐에서 꺼내어 더 짧은 거리일 경우에만 dist의 값을 갱신한다.<ul><li>큐에서 꺼낼 때는 음수를 양수로 바꾸어주고 넣을 때는 양수를 음수로 바꾸어 넣어준다.</li></ul></li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">1001</span>;</span><br><span class="line"><span class="keyword">int</span> dist[MAX];</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; a[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; pq;</span><br><span class="line">pq.push(make_pair(<span class="number">0</span>, start));</span><br><span class="line">dist[start] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!pq.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> cost = -pq.top().first; <span class="comment">// 비용 (최대 힙을 최소 힙처럼 사용하기 위해 음수로 저장된 수를 양수로 바꾸어 가져옴)</span></span><br><span class="line"><span class="keyword">int</span> node = pq.top().second; <span class="comment">// 현재 노드</span></span><br><span class="line">pq.pop();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a[node].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="keyword">int</span> next = a[node][i].first;</span><br><span class="line"><span class="keyword">int</span> nextCost = a[node][i].second + cost;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (nextCost &lt; dist[next]) &#123;</span><br><span class="line">dist[next] = nextCost;</span><br><span class="line">pq.push(make_pair(-nextCost, next)); <span class="comment">// 비용 (최대 힙을 최소 힙처럼 사용하기 위해 음수로 저장)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">int</span> start, <span class="built_in">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="keyword">while</span> (m--) &#123;</span><br><span class="line"><span class="keyword">int</span> u, v, w;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">a[u].push_back(make_pair(v, w));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; start &gt;&gt; <span class="built_in">end</span>;</span><br><span class="line"><span class="built_in">fill</span>(dist, &amp;dist[n + <span class="number">1</span>], INT_MAX);</span><br><span class="line"></span><br><span class="line">dijkstra(start);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; dist[<span class="built_in">end</span>] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-1916&quot;&gt;&lt;a href=&quot;#Problem-1916&quot; class=&quot;headerlink&quot; title=&quot;Problem 1916&quot;&gt;&lt;/a&gt;Problem 1916&lt;/h1&gt;&lt;h2 id=&quot;최소비용-구하기&quot;&gt;&lt;a href=&quot;#최소비용-
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>백준 1753번 최단경로</title>
    <link href="https://kyu9341.github.io/algorithm/2020/05/15/algorithm1753/"/>
    <id>https://kyu9341.github.io/algorithm/2020/05/15/algorithm1753/</id>
    <published>2020-05-14T15:01:12.000Z</published>
    <updated>2020-08-28T02:14:04.078Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-1753"><a href="#Problem-1753" class="headerlink" title="Problem 1753"></a>Problem 1753</h1><h2 id="최단경로"><a href="#최단경로" class="headerlink" title="최단경로"></a>최단경로</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>방향그래프가 주어지면 주어진 시작점에서 다른 모든 정점으로의 최단 경로를 구하는 프로그램을 작성하시오. 단, 모든 간선의 가중치는 10 이하의 자연수이다.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 정점의 개수 V와 간선의 개수 E가 주어진다. (1≤V≤20,000, 1≤E≤300,000) 모든 정점에는 1부터 V까지 번호가 매겨져 있다고 가정한다. 둘째 줄에는 시작 정점의 번호 K(1≤K≤V)가 주어진다. 셋째 줄부터 E개의 줄에 걸쳐 각 간선을 나타내는 세 개의 정수 (u, v, w)가 순서대로 주어진다. 이는 u에서 v로 가는 가중치 w인 간선이 존재한다는 뜻이다. u와 v는 서로 다르며 w는 10 이하의 자연수이다. 서로 다른 두 정점 사이에 여러 개의 간선이 존재할 수도 있음에 유의한다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄부터 V개의 줄에 걸쳐, i번째 줄에 i번 정점으로의 최단 경로의 경로값을 출력한다. 시작점 자신은 0으로 출력하고, 경로가 존재하지 않는 경우에는 INF를 출력하면 된다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/1753" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/1753</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>5 6<br>1<br>5 1 1<br>1 2 2<br>1 3 3<br>2 3 4<br>2 4 5<br>3 4 6</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>0<br>2<br>3<br>7<br>INF</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>다익스트라 알고리즘을 이용하여 해결하였다.</li><li>다익스트라 알고리즘 동작 방식</li></ul><ol><li>출발 노드를 설정한다.</li><li>출발 노드를 기준으로 각 노드의 최소 비용을 저장한다.</li><li>방문하지 않은 노드 중에서 가장 비용이 적은 노드를 선택한다.</li><li>해당 노드를 거쳐서 특정한 노드로 가는 경우를 고려하여 최소 비용을 갱신한다.</li><li>위 과정에서 3번 ~ 4번을 반복한다.</li></ol><hr><ul><li>거리를 기준으로 최소 힙의 구조로 동작하는 우선순위 큐를 선언한다.</li><li>현제 노드에서 가까운 순서대로 큐에서 꺼내어 더 짧은 거리일 경우에만 dist의 값을 갱신한다.</li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">20001</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = INT_MAX;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; a[MAX];</span><br><span class="line"><span class="keyword">int</span> dist[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstar</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">dist[start] = <span class="number">0</span>;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;, greater&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;&gt; pq; <span class="comment">// 최소 힙 구조로 선언</span></span><br><span class="line">pq.push(make_pair(<span class="number">0</span>, start)); <span class="comment">// 앞의 값을 기준으로 최소 힙 구성</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 가까운 순서대로 처리하므로 큐를 사용</span></span><br><span class="line"><span class="keyword">while</span> (!pq.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> cost = pq.top().first;</span><br><span class="line"><span class="keyword">int</span> current = pq.top().second;</span><br><span class="line">pq.pop();</span><br><span class="line"><span class="comment">// 최단 거리가 아닌 경우 스킵</span></span><br><span class="line"><span class="keyword">if</span> (dist[current] &lt; cost) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a[current].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line"><span class="comment">// 선택된 노드의 인접 노드</span></span><br><span class="line"><span class="keyword">int</span> next = a[current][i].first;</span><br><span class="line"><span class="comment">// 선택된 노드를 거쳐서 인접 노드로 가는 비용</span></span><br><span class="line"><span class="keyword">int</span> nextCost = cost + a[current][i].second;</span><br><span class="line"><span class="comment">// 기존의 최소 비용보다 더 저렴하다면 교체한다.</span></span><br><span class="line"><span class="keyword">if</span> (nextCost &lt; dist[next]) &#123;</span><br><span class="line">dist[next] = nextCost;</span><br><span class="line">pq.push(make_pair(nextCost, next));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> v, e;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; v &gt;&gt; e;</span><br><span class="line"><span class="keyword">int</span> start;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; start;</span><br><span class="line"></span><br><span class="line"><span class="built_in">fill</span>(dist, &amp;dist[v + <span class="number">1</span>], INF);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (e--) &#123;</span><br><span class="line"><span class="keyword">int</span> x, y, w;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; w;</span><br><span class="line">a[x].push_back(make_pair(y, w));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dijkstar(start);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= v; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (dist[i] == INF) <span class="built_in">cout</span> &lt;&lt; <span class="string">"INF"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; dist[i] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-1753&quot;&gt;&lt;a href=&quot;#Problem-1753&quot; class=&quot;headerlink&quot; title=&quot;Problem 1753&quot;&gt;&lt;/a&gt;Problem 1753&lt;/h1&gt;&lt;h2 id=&quot;최단경로&quot;&gt;&lt;a href=&quot;#최단경로&quot; cla
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Spring - IoC 컨테이너, DI</title>
    <link href="https://kyu9341.github.io/java/2020/05/13/java_spring_IOC_DI/"/>
    <id>https://kyu9341.github.io/java/2020/05/13/java_spring_IOC_DI/</id>
    <published>2020-05-12T23:12:28.000Z</published>
    <updated>2020-08-28T02:14:04.098Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Spring-IoC-컨테이너-DI"><a href="#Spring-IoC-컨테이너-DI" class="headerlink" title="Spring - IoC 컨테이너, DI"></a>Spring - IoC 컨테이너, DI</h2><h3 id="IoC-Inversion-of-Control-제어의-역전"><a href="#IoC-Inversion-of-Control-제어의-역전" class="headerlink" title="IoC(Inversion of Control - 제어의 역전)"></a>IoC(Inversion of Control - 제어의 역전)</h3><ul><li><p>Inversion of Control : 의존 관계 주입(Dependency Injection)이라고도 하며, 어떤 객체가 사용하는 의존 객체를 직접 만들어 사용하는게 아니라, 주입 받아 사용하는 방법을 말함.</p><ul><li>작업을 수행하는 쪽에서 Object를 생성하는 제어 흐름의 개념을 거꾸로 뒤집는다.</li><li>IoC 에서는 Object가 자신이 사용할 Object를 생성하거나 선택하지 않는다.</li><li>또한 Object는 자신이 어떻게 생성되고 어떻게 사용되는지 알 수 없다.</li><li>모든 Object는 제어 권한을 위임받는 특별한 Object에 의해서 만들어지고 사용된다.</li></ul></li><li><p>제어의 역전이란 객체의 생성에서부터 생명주기의 관리까지 모든 객체애 대한 제어권이 바뀌었다는 것을 의미한다.</p></li><li><p>스프링이 모든 의존성 객체를 스프링이 실행될 때 다 만들어 주고 필요한 곳에 주입시켜줌으로써 Bean들은 싱글톤 패턴의 틀징을 가지며, 제어의 흐름을 사용자가 컨트롤하는 것이 아니라 스프링에게 맡겨 작업을 처리하게 된다.</p></li><li><p>목적</p><ul><li>객체 의존관계의 결합도를 낮추고 유지보수성을 향상시키기 위해</li></ul></li></ul><h3 id="IoC-구현-방법"><a href="#IoC-구현-방법" class="headerlink" title="IoC 구현 방법"></a>IoC 구현 방법</h3><h4 id="DL-Dependency-Lookup-의존성-검색"><a href="#DL-Dependency-Lookup-의존성-검색" class="headerlink" title="DL(Dependency Lookup) - 의존성 검색"></a>DL(Dependency Lookup) - 의존성 검색</h4><ul><li>저장소에 저장되어 있는 빈(Bean)에 접근하기 위해 개발자들이 컨테이너에서 제공하는 API를 이용하여 사용하고자 하는 빈을 Lookup하는 것<h4 id="DI-Dependency-Injection-의존성-주입"><a href="#DI-Dependency-Injection-의존성-주입" class="headerlink" title="DI(Dependency Injection) - 의존성 주입"></a>DI(Dependency Injection) - 의존성 주입</h4></li><li>각 계층 사이, 각 클래스 사이에 필요로 하는 의존 관계를 빈 설정 정보를 바탕으로 컨테이너가 자동으로 연결해주는 것</li><li>DL을 사용하면 컨테이너의 종속성이 생기게 되는데 이를 줄이기 위해 DI를 사용한다.<ul><li>Setter Injection : setter를 이용하여 클래스 사이의 의존 관계를 연결<ul><li>객체를 생성 후 의존성을 삽입하는 방식이기 때문에 구현 시 좀 더 유연하게 사용 가능</li><li>setter를 통하여 필요한 값이 할당되기 전까지는 객체를 사용할 수 없다.</li></ul></li><li>Constructor Injection : 생성자를 이용하여 클래스 사이의 의존 관계를 연결<ul><li>생성자에 파라미터를 지정함으로써 생성하고자 하는 객체가 필요로 하는 것을 명확하게 알 수 있다.</li><li>setter메서드를 사용하지 않으므로 간단하게 필드를 불변 값으로 지정이 가능하다.</li><li>생성자의 파라미터가 많을 경우 코드가 복잡해 보일 수 있다.</li></ul></li></ul></li></ul><hr><h3 id="컨테이너란"><a href="#컨테이너란" class="headerlink" title="컨테이너란?"></a>컨테이너란?</h3><ul><li>컨테이너는 보통 인스턴스의 생명주기를 관리하며, 생성된 인스턴스들에게 추가적인 기능을 제공하는 것이다.</li><li>컨테이너는 적절한 설정만 되어있다면 작성된 코드를 스스로 참조한 뒤 알아서 객체의 생성과 소멸을 컨트롤해준다.</li></ul><h4 id="BeanFactory-빈팩토리"><a href="#BeanFactory-빈팩토리" class="headerlink" title="BeanFactory (빈팩토리)"></a>BeanFactory (빈팩토리)</h4><ul><li>애플리케이션 컴포넌트의 중앙 저장소, 스프링의 IoC를 담당하는 핵심 컨테이너.</li><li>빈 설정 소스로부터 빈 정의를 읽어들이고, 빈을 구성하고 제공한다.</li></ul><h4 id="ApplicationContext-애플리케이션-컨텍스트"><a href="#ApplicationContext-애플리케이션-컨텍스트" class="headerlink" title="ApplicationContext (애플리케이션 컨텍스트)"></a>ApplicationContext (애플리케이션 컨텍스트)</h4><ul><li>BeanFactory기능에 다양한 추가기능을 제공한다. (BeanFactory를 상속)<ul><li>국제화가 지원되는 텍스트 메시지 관리 기능</li><li>이벤트 발행 기능</li><li>리소스 로딩 기능</li></ul></li><li>대부분의 경우 BeanFactory보다는 ApplicationContext을 주로 사용한다.</li></ul><h4 id="빈-Bean-스프링-빈"><a href="#빈-Bean-스프링-빈" class="headerlink" title="빈(Bean) - 스프링 빈"></a>빈(Bean) - 스프링 빈</h4><ul><li>스프링 IoC 컨테이너가 관리하는 객체</li><li>스프링에서 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트</li><li>여러 annotation을 사용하여 일반적인 객체를 Bean으로 등록할 수 있고, Bean에 등록된 객체들을 쉽게 주입받아 사용 가능하다.</li><li>의존성 주입을 하기 위해서는 Bean으로 등록되어야 한다. (의존성 주입은 Bean끼리만 가능하다.)</li><li>라이프사이클 인터페이스를 이용 가능하다.</li></ul><blockquote><p>참조<br><a href="https://www.inflearn.com/course/spring-framework_core/dashboard" target="_blank" rel="external nofollow noopener noreferrer">https://www.inflearn.com/course/spring-framework_core/dashboard</a><br><a href="https://limmmee.tistory.com/13" target="_blank" rel="external nofollow noopener noreferrer">https://limmmee.tistory.com/13</a><br><a href="https://isstory83.tistory.com/91" target="_blank" rel="external nofollow noopener noreferrer">https://isstory83.tistory.com/91</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Spring-IoC-컨테이너-DI&quot;&gt;&lt;a href=&quot;#Spring-IoC-컨테이너-DI&quot; class=&quot;headerlink&quot; title=&quot;Spring - IoC 컨테이너, DI&quot;&gt;&lt;/a&gt;Spring - IoC 컨테이너, DI&lt;/h2&gt;&lt;h3
      
    
    </summary>
    
    
      <category term="java" scheme="https://kyu9341.github.io/categories/java/"/>
    
    
      <category term="Spring" scheme="https://kyu9341.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>백준 2665번 미로만들기</title>
    <link href="https://kyu9341.github.io/algorithm/2020/05/12/algorithm2665/"/>
    <id>https://kyu9341.github.io/algorithm/2020/05/12/algorithm2665/</id>
    <published>2020-05-12T07:51:12.000Z</published>
    <updated>2020-08-28T02:14:04.084Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-2665"><a href="#Problem-2665" class="headerlink" title="Problem 2665"></a>Problem 2665</h1><h2 id="미로만들기"><a href="#미로만들기" class="headerlink" title="미로만들기"></a>미로만들기</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>n×n 바둑판 모양으로 총 n2개의 방이 있다. 일부분은 검은 방이고 나머지는 모두 흰 방이다. 검은 방은 사면이 벽으로 싸여 있어 들어갈 수 없다. 서로 붙어 있는 두 개의 흰 방 사이에는 문이 있어서 지나다닐 수 있다. 윗줄 맨 왼쪽 방은 시작방으로서 항상 흰 방이고, 아랫줄 맨 오른쪽 방은 끝방으로서 역시 흰 방이다.</p><p>시작방에서 출발하여 길을 찾아서 끝방으로 가는 것이 목적인데, 아래 그림의 경우에는 시작방에서 끝 방으로 갈 수가 없다. 부득이 검은 방 몇 개를 흰 방으로 바꾸어야 하는데 되도록 적은 수의 방의 색을 바꾸고 싶다.</p><p>아래 그림은 n=8인 경우의 한 예이다.</p><p>위 그림에서는 두 개의 검은 방(예를 들어 (4,4)의 방과 (7,8)의 방)을 흰 방으로 바꾸면, 시작방에서 끝방으로 갈 수 있지만, 어느 검은 방 하나만을 흰 방으로 바꾸어서는 불가능하다. 검은 방에서 흰 방으로 바꾸어야 할 최소의 수를 구하는 프로그램을 작성하시오.</p><p>단, 검은 방을 하나도 흰방으로 바꾸지 않아도 되는 경우는 0이 답이다.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫 줄에는 한 줄에 들어가는 방의 수 n(1≤n≤50)이 주어지고, 다음 n개의 줄의 각 줄마다 0과 1이 이루어진 길이가 n인 수열이 주어진다. 0은 검은 방, 1은 흰 방을 나타낸다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫 줄에 흰 방으로 바꾸어야 할 최소의 검은 방의 수를 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/2665" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/2665</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>8<br>11100110<br>11010010<br>10011010<br>11101100<br>01000111<br>00110001<br>11011000<br>11000111</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>2</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li>흰 방으로 바꾸어야 하는 최소 개수만 구하면 되므로 visited배열에 현재 위치까지 오는데 검은 방을 흰 방으로 바꾸어야 하는 최소 개수를 저장한다.</li><li>bfs를 수행하며 더 적은 횟수로 현재 위치에 도달하는 경우만 값을 갱신하며 (n - 1, n - 1)까지 이동한다.</li><li>이후, visited[n - 1][n - 1]을 출력한다.</li></ul><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">50</span>;</span><br><span class="line"><span class="keyword">int</span> dx[] = &#123; <span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> a[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> visited[MAX][MAX]; <span class="comment">// 현재 위치까지 최소로 방을 바꾸어야 하는 개수</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">place</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> y;</span><br><span class="line"></span><br><span class="line">place(<span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x = x;</span><br><span class="line"><span class="keyword">this</span>-&gt;y = y;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">queue</span>&lt;place&gt; q;</span><br><span class="line">q.push(place(<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">visited[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> x = q.front().x;</span><br><span class="line"><span class="keyword">int</span> y = q.front().y;</span><br><span class="line">q.pop();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> nx = x + dx[i];</span><br><span class="line"><span class="keyword">int</span> ny = y + dy[i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (nx &gt;= <span class="number">0</span> &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; nx &lt; n &amp;&amp; ny &lt; n) &#123; <span class="comment">// 범위 내에서</span></span><br><span class="line"><span class="keyword">if</span> (a[nx][ny] == <span class="number">1</span>) &#123; <span class="comment">// 흰 방인 경우</span></span><br><span class="line"><span class="comment">// 아직 방문하지 않았거나 더 적은 횟수로 이동 가능한 경우</span></span><br><span class="line"><span class="keyword">if</span> (visited[nx][ny] == <span class="number">-1</span> || visited[nx][ny] &gt; visited[x][y]) &#123;</span><br><span class="line">visited[nx][ny] = visited[x][y];</span><br><span class="line">q.push(place(nx, ny));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123; <span class="comment">// 검은 방인 경우</span></span><br><span class="line"><span class="comment">// 아직 방문하지 않았거나 더 적은 횟수로 이동 가능한 경우</span></span><br><span class="line"><span class="keyword">if</span> (visited[nx][ny] == <span class="number">-1</span> || visited[nx][ny] &gt; visited[x][y] + <span class="number">1</span>) &#123;</span><br><span class="line">visited[nx][ny] = visited[x][y] + <span class="number">1</span>;</span><br><span class="line">q.push(place(nx, ny));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="built_in">cin</span>.ignore();</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">a[i][j] = str[j] - <span class="string">'0'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">memset</span>(visited, <span class="number">-1</span>, <span class="keyword">sizeof</span>(visited));</span><br><span class="line">bfs();</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; visited[n - <span class="number">1</span>][n - <span class="number">1</span>] &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-2665&quot;&gt;&lt;a href=&quot;#Problem-2665&quot; class=&quot;headerlink&quot; title=&quot;Problem 2665&quot;&gt;&lt;/a&gt;Problem 2665&lt;/h1&gt;&lt;h2 id=&quot;미로만들기&quot;&gt;&lt;a href=&quot;#미로만들기&quot; c
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>백준 1644번 소수의 연속합</title>
    <link href="https://kyu9341.github.io/algorithm/2020/05/12/algorithm1644/"/>
    <id>https://kyu9341.github.io/algorithm/2020/05/12/algorithm1644/</id>
    <published>2020-05-11T15:51:12.000Z</published>
    <updated>2020-08-28T02:14:04.075Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-1644"><a href="#Problem-1644" class="headerlink" title="Problem 1644"></a>Problem 1644</h1><h2 id="소수의-연속합"><a href="#소수의-연속합" class="headerlink" title="소수의 연속합"></a>소수의 연속합</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>하나 이상의 연속된 소수의 합으로 나타낼 수 있는 자연수들이 있다. 몇 가지 자연수의 예를 들어 보면 다음과 같다.</p><ul><li>3 : 3 (한 가지)</li><li>41 : 2+3+5+7+11+13 = 11+13+17 = 41 (세 가지)</li><li>53 : 5+7+11+13+17 = 53 (두 가지)<br>하지만 연속된 소수의 합으로 나타낼 수 없는 자연수들도 있는데, 20이 그 예이다. 7+13을 계산하면 20이 되기는 하나 7과 13이 연속이 아니기에 적합한 표현이 아니다. 또한 한 소수는 반드시 한 번만 덧셈에 사용될 수 있기 때문에, 3+5+5+7과 같은 표현도 적합하지 않다.</li></ul><p>자연수가 주어졌을 때, 이 자연수를 연속된 소수의 합으로 나타낼 수 있는 경우의 수를 구하는 프로그램을 작성하시오.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 자연수 N이 주어진다. (1 ≤ N ≤ 4,000,000)</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄에 자연수 N을 연속된 소수의 합으로 나타낼 수 있는 경우의 수를 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/1644" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/1644</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>20</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>0</p><h3 id="예제-입력-2"><a href="#예제-입력-2" class="headerlink" title="예제 입력 2"></a>예제 입력 2</h3><p>3</p><h3 id="예제-출력-2"><a href="#예제-출력-2" class="headerlink" title="예제 출력 2"></a>예제 출력 2</h3><p>1</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li><p>에라토스테네스의 체로 n이하의 소수로 이루어진 벡터를 만든다.</p></li><li><p>소수들의 벡터에서 투포인터 알고리즘으로 합이 n이되는 경우의 수를 모두 구한다.</p></li><li><p><strong>[투 포인터 알고리즘]</strong></p></li><li><p>리스트에 순차적으로 접근해야 할 때 두 개의 점을 이용해 위치를 기록하면서 처리하는 기법</p></li></ul><ol><li>시작점(start)와 끝점(end)이 첫 번째 원소의 인덱스(0)을 가리키도록 한다.</li><li>현재 부분 합이 M과 같다면, 카운트한다.</li><li>현재 부분 합이 M보다 작거나 같다면, end를 1증가시킨다.</li><li>현재 부분 합이 M보다 크다면, start를 1증가시킨다.</li><li>모든 경우를 확인할 때까지 2번부터 4번까지의 과정을 반복한다.</li></ol><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">4000000</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; prime;</span><br><span class="line"><span class="keyword">bool</span> check[MAX + <span class="number">1</span>]; <span class="comment">// 소수이면 false</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">check[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 에라토스테네스의 체</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (check[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">prime.push_back(i); <span class="comment">// 소수들만 벡터에 추가</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt;= n; j += i) &#123;</span><br><span class="line">check[j] = <span class="literal">true</span>; <span class="comment">// 소수가 아니면 true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">end</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 소수의 벡터에서 투포인터 알고리즘</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt; prime.<span class="built_in">size</span>(); start++) &#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">end</span> &lt; prime.<span class="built_in">size</span>() &amp;&amp; sum &lt; n) &#123;</span><br><span class="line">sum += prime[<span class="built_in">end</span>++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (sum == n) ans++;</span><br><span class="line">sum -= prime[start];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-1644&quot;&gt;&lt;a href=&quot;#Problem-1644&quot; class=&quot;headerlink&quot; title=&quot;Problem 1644&quot;&gt;&lt;/a&gt;Problem 1644&lt;/h1&gt;&lt;h2 id=&quot;소수의-연속합&quot;&gt;&lt;a href=&quot;#소수의-연속
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
  <entry>
    <title>백준 2003번 수들의 합 2</title>
    <link href="https://kyu9341.github.io/algorithm/2020/05/12/algorithm2003/"/>
    <id>https://kyu9341.github.io/algorithm/2020/05/12/algorithm2003/</id>
    <published>2020-05-11T15:21:12.000Z</published>
    <updated>2020-08-28T02:14:04.081Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Problem-2003"><a href="#Problem-2003" class="headerlink" title="Problem 2003"></a>Problem 2003</h1><h2 id="수들의-합-2"><a href="#수들의-합-2" class="headerlink" title="수들의 합 2"></a>수들의 합 2</h2><h3 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h3><p>N개의 수로 된 수열 A[1], A[2], …, A[N] 이 있다. 이 수열의 i번째 수부터 j번째 수까지의 합 A[i]+A[i+1]+…+A[j-1]+A[j]가 M이 되는 경우의 수를 구하는 프로그램을 작성하시오.</p><h3 id="입력"><a href="#입력" class="headerlink" title="입력"></a>입력</h3><p>첫째 줄에 N(1≤N≤10,000), M(1≤M≤300,000,000)이 주어진다. 다음 줄에는 A[1], A[2], …, A[N]이 공백으로 분리되어 주어진다. 각각의 A[x]는 30,000을 넘지 않는 자연수이다.</p><h3 id="출력"><a href="#출력" class="headerlink" title="출력"></a>출력</h3><p>첫째 줄에 경우의 수를 출력한다.</p><h3 id="문제-링크"><a href="#문제-링크" class="headerlink" title="문제 링크"></a>문제 링크</h3><p><a href="https://www.acmicpc.net/problem/2003" target="_blank" rel="external nofollow noopener noreferrer">https://www.acmicpc.net/problem/2003</a></p><h3 id="예제-입력-1"><a href="#예제-입력-1" class="headerlink" title="예제 입력 1"></a>예제 입력 1</h3><p>4 2<br>1 1 1 1</p><h3 id="예제-출력-1"><a href="#예제-출력-1" class="headerlink" title="예제 출력 1"></a>예제 출력 1</h3><p>3</p><h3 id="예제-입력-2"><a href="#예제-입력-2" class="headerlink" title="예제 입력 2"></a>예제 입력 2</h3><p>10 5<br>1 2 3 4 2 5 3 1 1 2</p><h3 id="예제-출력-2"><a href="#예제-출력-2" class="headerlink" title="예제 출력 2"></a>예제 출력 2</h3><p>3</p><h3 id="solve"><a href="#solve" class="headerlink" title="solve"></a>solve</h3><ul><li><strong>[투 포인터 알고리즘]</strong></li><li>리스트에 순차적으로 접근해야 할 때 두 개의 점을 이용해 위치를 기록하면서 처리하는 기법</li></ul><ol><li>시작점(start)와 끝점(end)이 첫 번째 원소의 인덱스(0)을 가리키도록 한다.</li><li>현재 부분 합이 M과 같다면, 카운트한다.</li><li>현재 부분 합이 M보다 작거나 같다면, end를 1증가시킨다.</li><li>현재 부분 합이 M보다 크다면, start를 1증가시킨다.</li><li>모든 경우를 확인할 때까지 2번부터 4번까지의 과정을 반복한다.</li></ol><h3 id="코드-설명"><a href="#코드-설명" class="headerlink" title="코드 설명"></a>코드 설명</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">int</span> a[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">ios_base::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">cout</span>.tie(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">end</span> = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// start를 차례로 증가시키며 반복</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt; n; start++) &#123;</span><br><span class="line"><span class="keyword">while</span> (sum &lt; m &amp;&amp; <span class="built_in">end</span> &lt; n) &#123;</span><br><span class="line"><span class="comment">// end를 가능한 만큼 이동</span></span><br><span class="line">sum += a[<span class="built_in">end</span>++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 부분 합이 m일 때, 카운트 증가</span></span><br><span class="line"><span class="keyword">if</span> (sum == m) &#123;</span><br><span class="line">ans++;</span><br><span class="line">&#125;</span><br><span class="line">sum -= a[start];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Problem-2003&quot;&gt;&lt;a href=&quot;#Problem-2003&quot; class=&quot;headerlink&quot; title=&quot;Problem 2003&quot;&gt;&lt;/a&gt;Problem 2003&lt;/h1&gt;&lt;h2 id=&quot;수들의-합-2&quot;&gt;&lt;a href=&quot;#수들의-합-
      
    
    </summary>
    
    
      <category term="algorithm" scheme="https://kyu9341.github.io/categories/algorithm/"/>
    
    
      <category term="Algorithm" scheme="https://kyu9341.github.io/tags/Algorithm/"/>
    
  </entry>
  
</feed>
